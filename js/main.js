define("async",[],function(){function e(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function t(e,t){var n=/!(.+)/,r=e.replace(n,""),o=n.test(e)?e.replace(/.+!/,""):i;return r+=r.indexOf("?")<0?"?":"&",r+o+"="+t}function n(){return r+=1,"__async_req_"+r+"__"}var i="callback",r=0;return{load:function(i,r,o,s){if(s.isBuild)o(null);else{var a=n();window[a]=o,e(t(r.toUrl(i),a))}}}}),function(){function e(e){function t(t,n,i,r,o,s){for(;o>=0&&s>o;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!T(n)&&y.keys(n),a=(s||n).length,u=e>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=e),t(n,i,r,s,u,a)}}function t(e){return function(t,n,i){n=w(n,i);for(var r=k(t),o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(i,r,o){var s=0,a=k(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(c.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&a>o;o+=e)if(i[o]===r)return o;return-1}}function i(e,t){var n=A.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=A[n],o in e&&e[o]!==r[o]&&!y.contains(t,o)&&t.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,d=a.toString,h=a.hasOwnProperty,f=Array.isArray,p=Object.keys,m=u.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var _=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=e(o),a=s.length,u=0;a>u;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},x=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,k=C("length"),T=function(e){var t=k(e);return"number"==typeof t&&t>=0&&S>=t};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,r;if(T(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=y.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),r=(i||e).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;return i=T(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},y.filter=y.select=function(e,t,n){var i=[];return t=w(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return T(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,o=-(1/0),s=-(1/0);if(null==t&&null!=e){e=T(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)i=e[a],i>o&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=e,s=r)});return o},y.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t&&null!=e){e=T(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)i=e[a],o>i&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(s>r||r===1/0&&o===1/0)&&(o=e,s=r)});return o},y.shuffle=function(e){for(var t,n=T(e)?e:y.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=y.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},y.sample=function(e,t,n){return null==t||n?(T(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,i){var r={};return n=w(n,i),y.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};y.groupBy=M(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=M(function(e,t,n){e[n]=t}),y.countBy=M(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):T(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:T(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var i=[],r=[];return y.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){return null!=e?null==t||n?e[0]:y.initial(e,e.length-t):void 0},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t)):void 0},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var E=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=k(e);a>s;s++){var u=e[s];if(T(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=E(u,t,n));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};y.flatten=function(e,t){return E(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=k(e);a>s;s++){var u=e[s],l=n?n(u,s,e):u;t?(s&&o===l||r.push(u),o=l):n?y.contains(o,l)||(o.push(l),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(E(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=k(e);r>i;i++){var o=e[i];if(!y.contains(t,o)){for(var s=1;n>s&&y.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},y.difference=function(e){var t=E(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,k).length||0,n=Array(t),i=0;t>i;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=k(e);r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=w(n,i,1);for(var r=n(t),o=0,s=k(e);s>o;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var D=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=x(e.prototype),s=e.apply(o,r);return y.isObject(s)?s:o};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return D(e,i,t,this,n.concat(c.call(arguments)))};return i},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;r>s;s++)o[s]=t[s]===y?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return D(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return y.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:y.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var l=y.now();a||n.leading!==!1||(a=l);var c=t-(l-a);return i=this,r=arguments,0>=c||c>t?(s&&(clearTimeout(s),s=null),a=l,o=e.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},y.debounce=function(e,t,n){var i,r,o,s,a,u=function(){var l=y.now()-s;t>l&&l>=0?i=setTimeout(u,t-l):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var l=n&&!i;return i||(i=setTimeout(u,t)),l&&(a=e.apply(o,r),o=r=null),a}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return O&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=t(e[i],i,e);return s},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=0,s=r.length;s>o;o++)if(i=r[o],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;y.isFunction(t)?(r=y.allKeys(s),i=b(t,n)):(r=E(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s));for(var a=0,u=r.length;u>a;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(E(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=_(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var R=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!R(e[u],t[u],n,i))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(t,l)||!R(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return R(e,t)},y.isEmpty=function(e){return null==e?!0:T(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=f||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&h.call(e,t)},y.noConflict=function(){return r._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=C,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(j),L=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=L(j),y.unescape=L(N),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var q=0;y.uniqueId=function(e){var t=++q+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,F=function(e){return"\\"+I[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||P).source,(t.interpolate||P).source,(t.evaluate||P).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(V,F),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(e){return s.call(this,e,y)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var t=y(e);return t._chain=!0,t};var H=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),H(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),y.each(["concat","join","slice"],function(e){var t=s[e];y.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return W.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return Q.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function s(){Z.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function u(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n}catch(r){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function d(){try{return Z.activeElement}catch(e){}}function h(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,r,o,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),s=ve.set(t,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)Q.event.add(t,r,l[r][n])}ye.hasData(e)&&(a=ye.access(e),u=Q.extend({},a),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function w(e){var t=Z,n=Fe[e];return n||(n=b(e,t),"none"!==n&&n||(Ve=(Ve||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ve[0].contentDocument,t.write(),t.close(),n=b(e,t),Ve.detach()),Fe[e]=n),n}function _(e,t,n){var i,r,o,s,a=e.style;return n=n||ze(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Q.contains(e.ownerDocument,e)||(s=Q.style(e,t)),Be.test(s)&&He.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Je.length;r--;)if(t=Je[r]+n,t in e)return t;return i}function S(e,t,n){var i=$e.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function k(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Q.css(e,n+xe[o],!0,r)),i?("content"===n&&(s-=Q.css(e,"padding"+xe[o],!0,r)),"margin"!==n&&(s-=Q.css(e,"border"+xe[o]+"Width",!0,r))):(s+=Q.css(e,"padding"+xe[o],!0,r),"padding"!==n&&(s+=Q.css(e,"border"+xe[o]+"Width",!0,r)));return s}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=ze(e),s="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=_(e,t,o),(0>r||null==r)&&(r=e.style[t]),Be.test(r))return r;i=s&&(X.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+k(e,t,n||(s?"border":"content"),i,o)+"px"}function M(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ve.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(o[s]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=Ce(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function E(e,t,n,i,r){return new E.prototype.init(e,t,n,i,r)}function D(){return setTimeout(function(){Xe=void 0}),Xe=Q.now()}function O(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=xe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function A(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function R(e,t,n){var i,r,o,s,a,u,l,c,d=this,h={},f=e.style,p=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");n.queue||(a=Q._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Q.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=Q.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||w(e.nodeName):l,"inline"===c&&"none"===Q.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Ke.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}h[i]=m&&m[i]||Q.style(e,i)}else l=void 0;if(Q.isEmptyObject(h))"inline"===("none"===l?w(e.nodeName):l)&&(f.display=l);else{m?"hidden"in m&&(p=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!p),p?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in h)Q.style(e,t,h[t])});for(i in h)s=A(p?m[i]:0,i,d),i in m||(m[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function j(e,t){var n,i,r,o,s;for(n in e)if(i=Q.camelCase(n),r=t[i],o=e[n],Q.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=Q.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function N(e,t,n){var i,r,o=0,s=tt.length,a=Q.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=Xe||D(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(j(c,l.opts.specialEasing);s>o;o++)if(i=tt[o].call(l,e,c,l.opts))return i;return Q.map(c,A,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(fe)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function q(e,t,n,i){function r(a){var u;return o[a]=!0,Q.each(e[a]||[],function(e,a){var l=a(t,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=e===bt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function P(e,t){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Q.extend(!0,e,i),e}function I(e,t,n){for(var i,r,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function V(e,t,n,i){var r,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function F(e,t,n,i){var r;if(Q.isArray(t))Q.each(t,function(t,r){n||St.test(e)?i(e,r):F(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Q.type(t))i(e,t);else for(r in t)F(e+"["+r+"]",t[r],n,i)}function H(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],z=B.slice,Y=B.concat,$=B.push,W=B.indexOf,U={},G=U.toString,J=U.hasOwnProperty,X={},Z=e.document,K="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:K,constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:z.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:B.sort,splice:B.splice},Q.extend=Q.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(l&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},s[t]=Q.extend(l,o,i)):void 0!==i&&(s[t]=i));return s},Q.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!J.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?U[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Q.merge(i,"string"==typeof e?[e]:e):$.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&u.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&u.push(r);return Y.apply([],u)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(i=z.call(arguments,2),r=function(){return e.apply(t||this,i.concat(z.call(arguments)))},r.guid=e.guid=e.guid||Q.guid++,r):void 0},now:Date.now,support:X}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,i){var r,o,s,a,u,l,d,f,p,m;if((t?t.ownerDocument||t:F)!==R&&A(t),t=t||R,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&N){if(11!==a&&(r=ye.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&I(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&_.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(_.qsa&&(!L||!L.test(e))){if(f=d=V,p=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(d=t.getAttribute("id"))?f=d.replace(we,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=l.length;u--;)l[u]=f+h(l[u]);p=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return M(e.replace(ue,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[V]=!0,e}function r(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=B++;return t.first?function(t,n,o){
for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,u,l=[H,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[V]||(t[V]={}),(a=u[i])&&a[0]===H&&a[1]===o)return l[2]=a[2];if(u[i]=l,l[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[V]&&(r=v(r)),o&&!o[V]&&(o=v(o,s)),i(function(i,s,a,u){var l,c,d,h=[],f=[],p=s.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:g(v,h,e,a,u),b=n?o||(i?e:p||r)?[]:s:y;if(n&&n(y,b,a,u),r)for(l=g(b,f),r(l,[],a,u),c=l.length;c--;)(d=l[c])&&(b[f[c]]=!(y[f[c]]=d));if(i){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(i,d):h[c])>-1&&(i[l]=!(s[l]=d))}}else b=g(b===s?b.splice(p,b.length):b),o?o(null,s,b,u):K.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],a=o?1:0,u=f(function(e){return e===t},s,!0),l=f(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,r}];r>a;a++)if(n=x.relative[e[a].type])c=[f(p(c),n)];else{if(n=x.filter[e[a].type].apply(null,e[a].matches),n[V]){for(i=++a;r>i&&!x.relative[e[i].type];i++);return v(a>1&&p(c),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}c.push(n)}return p(c)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,u,l){var c,d,h,f=0,p="0",m=i&&[],v=[],y=E,b=i||o&&x.find.TAG("*",l),w=H+=null==y?1:Math.random()||.1,_=b.length;for(l&&(E=s!==R&&s);p!==_&&null!=(c=b[p]);p++){if(o&&c){for(d=0;h=e[d++];)if(h(c,s,a)){u.push(c);break}l&&(H=w)}r&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,s,a);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(u));v=g(v)}K.apply(u,v),l&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(H=w,E=y),m};return r?i(s):s}var w,_,x,C,S,k,T,M,E,D,O,A,R,j,N,L,q,P,I,V="sizzle"+1*new Date,F=e.document,H=0,B=0,z=n(),Y=n(),$=n(),W=function(e,t){return e===t&&(O=!0),0},U=1<<31,G={}.hasOwnProperty,J=[],X=J.pop,Z=J.push,K=J.push,Q=J.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){A()};try{K.apply(J=Q.call(F.childNodes),F.childNodes),J[F.childNodes.length].nodeType}catch(Se){K={apply:J.length?function(e,t){Z.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:F;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,j=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),N=!S(i),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(i.getElementsByClassName),_.getById=r(function(e){return j.appendChild(e).id=V,!i.getElementsByName||!i.getElementsByName(V).length}),_.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=_.getElementsByClassName&&function(e,t){return N?t.getElementsByClassName(e):void 0},q=[],L=[],(_.qsa=ve.test(i.querySelectorAll))&&(r(function(e){j.appendChild(e).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+V+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+V+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=ve.test(P=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&r(function(e){_.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),q.push("!=",se)}),L=L.length&&new RegExp(L.join("|")),q=q.length&&new RegExp(q.join("|")),t=ve.test(j.compareDocumentPosition),I=t||ve.test(j.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===F&&I(F,e)?-1:t===i||t.ownerDocument===F&&I(F,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:D?ee(D,e)-ee(D,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[r]===l[r];)r++;return r?s(u[r],l[r]):u[r]===F?-1:l[r]===F?1:0},i):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&A(e),n=n.replace(de,"='$1']"),_.matchesSelector&&N&&(!q||!q.test(n))&&(!L||!L.test(n)))try{var i=P.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&A(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&A(e);var n=x.attrHandle[t.toLowerCase()],i=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==i?i:_.attributes||!N?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(O=!_.detectDuplicates,D=!_.sortStable&&e.slice(0),e.sort(W),O){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return D=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(c=g[V]||(g[V]={}),l=c[e]||[],f=l[0]===H&&l[1],h=l[0]===H&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[H,f,h];break}}else if(y&&(l=(t[V]||(t[V]={}))[e])&&l[0]===H)h=l[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[V]||(d[V]={}))[e]=[H,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[V]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=ee(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(ue,"$1"));return r[V]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(_e,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,xe).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=u(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,k=t.tokenize=function(e,n){var i,r,o,s,a,u,l,c=Y[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=x.preFilter;a;){(!i||(r=le.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=ce.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ue," ")}),a=a.slice(i.length));for(s in x.filter)!(r=pe[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):Y(e,u).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],o=$[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[V]?i.push(o):r.push(o);o=$(e,b(r,i)),o.selector=e}return o},M=t.select=function(e,t,n,i){var r,o,s,a,u,l="function"==typeof e&&e,d=!i&&k(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===t.nodeType&&N&&x.relative[o[1].type]){if(t=(x.find.ID(s.matches[0].replace(_e,xe),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((u=x.find[a])&&(i=u(s.matches[0].replace(_e,xe),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return K.apply(n,i),n;break}}return(l||T(e,d))(i,t,!N,n,be.test(e)&&c(t.parentNode)||t),n},_.sortStable=V.split("").sort(W).join("")===V,_.detectDuplicates=!!O,A(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Q.find=re,Q.expr=re.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=re.uniqueSort,Q.text=re.getText,Q.isXMLDoc=re.isXML,Q.contains=re.contains;var oe=Q.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Q.find.matchesSelector(i,e)?[i]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(r[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,r[t],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),se.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,ue=Q(Z);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Q(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?W.call(Q(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,i){var r=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(he[e]||Q.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var fe=/\S+/g,pe={};Q.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):Q.extend({},e);var t,n,i,r,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=r||0,r=0,s=u.length,i=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:d.disable())},d={add:function(){if(u){var n=u.length;!function o(t){Q.each(t,function(t,n){var i=Q.type(n);"function"===i?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?s=u.length:t&&(r=n,c(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var s=Q.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,i):i}},r={};return i.pipe=i.then,Q.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=z.call(arguments),s=o.length,a=1!==s||e&&Q.isFunction(e.promise)?s:0,u=1===a?e:Q.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?z.call(arguments):r,i===t?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(u.reject).progress(l(r,n,t)):--a;return a||u.resolveWith(i,o),u.promise()}});var me;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(me.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(t){return me||(me=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),me.promise(t)},Q.ready.promise();var ge=Q.access=function(e,t,n,i,r,o,s){var a=0,u=e.length,l=null==n;if("object"===Q.type(n)){r=!0;for(a in n)Q.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(s=!0),l&&(s?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(Q(e),n)})),t))for(;u>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):u?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?i=t.concat(t.map(Q.camelCase)):(r=Q.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,ye=new a,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),u(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var n,i=Q.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Q.isArray(n)?i=ve.access(e,t,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),i=n.length,r=n.shift(),o=Q._queueHooks(e,t),s=function(){Q.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Q.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";X.focusinBubbles="onfocusin"in e;var Te=/^key/,Me=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,i,r){var o,s,a,u,l,c,d,h,f,p,m,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof Q!==ke&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],l=t.length;l--;)a=De.exec(t[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(d=Q.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=Q.event.special[f]||{},c=Q.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=u[f])||(h=u[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,p,s)!==!1||e.addEventListener&&e.addEventListener(f,s,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),Q.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,s,a,u,l,c,d,h,f,p,m,g=ve.hasData(e)&&ve.get(e);if(g&&(u=g.events)){for(t=(t||"").match(fe)||[""],l=t.length;l--;)if(a=De.exec(t[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=Q.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||Q.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)Q.event.remove(e,f+t[l],n,i,!0);Q.isEmptyObject(u)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,u,l,c,d,h=[i||Z],f=J.call(t,"type")?t.type:t,p=J.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[Q.expando]?t:new Q.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Q.makeArray(n,[t]),d=Q.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!Q.isWindow(i)){for(u=d.delegateType||f,Ee.test(u+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||Z)&&h.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=h[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||f,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Q.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Q.acceptData(i)||l&&Q.isFunction(i[f])&&!Q.isWindow(i)&&(a=i[l],a&&(i[l]=null),Q.event.triggered=f,i[f](),Q.event.triggered=void 0,a&&(i[l]=a)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,i,r,o,s=[],a=z.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Q.event.handlers.call(this,e,u),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(u)>=0:Q.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Me.test(r)?this.mouseHooks:Te.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new Q.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,t):Q.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,t);r||i.addEventListener(e,n,!0),ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,t)-1;r?ve.access(i,t,r):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Q.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(o=i,i=function(e){return Q().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Q(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Re=/<|&#?\w+;/,je=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^$|\/(?:java|ecma)script/i,qe=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ie={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,Q.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(s=v(a),o=v(e),i=0,r=o.length;r>i;i++)y(o[i],s[i]);if(t)if(n)for(o=o||v(e),s=s||v(a),i=0,r=o.length;r>i;i++)g(o[i],s[i]);else g(e,a);return s=v(a,"script"),s.length>0&&m(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,u,l,c=t.createDocumentFragment(),d=[],h=0,f=e.length;f>h;h++)if(r=e[h],r||0===r)if("object"===Q.type(r))Q.merge(d,r.nodeType?[r]:r);else if(Re.test(r)){for(o=o||c.appendChild(t.createElement("div")),s=(Ae.exec(r)||["",""])[1].toLowerCase(),a=Ie[s]||Ie._default,o.innerHTML=a[1]+r.replace(Oe,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Q.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(c.textContent="",h=0;r=d[h++];)if((!i||-1===Q.inArray(r,i))&&(u=Q.contains(r.ownerDocument,r),o=v(c.appendChild(r),"script"),u&&m(o),n))for(l=0;r=o[l++];)Le.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,o=Q.event.special,s=0;void 0!==(n=e[s]);s++){if(Q.acceptData(n)&&(r=n[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(i in t.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,t.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Q.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Ie[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Oe,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,i,r,o,s,a,u=0,l=this.length,c=this,d=l-1,h=e[0],m=Q.isFunction(h);if(m||l>1&&"string"==typeof h&&!X.checkClone&&Ne.test(h))return this.each(function(n){var i=c.eq(n);m&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(l&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),f),o=r.length;l>u;u++)s=n,u!==d&&(s=Q.clone(s,!0,!0),o&&Q.merge(r,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=r[r.length-1].ownerDocument,Q.map(r,p),u=0;o>u;u++)s=r[u],Le.test(s.type||"")&&!ve.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(Pe,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,i=[],r=Q(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Q(r[s])[t](n),$.apply(i,n.get());return this.pushStack(i)}});var Ve,Fe={},He=/^margin/,Be=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),ze=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=Z.documentElement,o=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Q.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(Z.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),s.removeChild(n),t}}))}(),Q.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var Ye=/^(none|table(?!-c[ea]).+)/,$e=new RegExp("^("+_e+")(.*)$","i"),We=new RegExp("^([+-])=("+_e+")","i"),Ue={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Je=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=Q.camelCase(t),u=e.style;return t=Q.cssProps[a]||(Q.cssProps[a]=C(u,a)),s=Q.cssHooks[t]||Q.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t]:(o=typeof n,"string"===o&&(r=We.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[a]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(u[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,s,a=Q.camelCase(t);return t=Q.cssProps[a]||(Q.cssProps[a]=C(e.style,a)),s=Q.cssHooks[t]||Q.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=_(e,t,i)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,i){return n?Ye.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ue,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&ze(e);return S(e,n,i?k(e,t,i,"border-box"===Q.css(e,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=x(X.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},_,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+xe[i]+t]=o[i]||o[i-2]||o[0];return r}},He.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,r,o={},s=0;if(Q.isArray(t)){for(i=ze(e),r=t.length;r>s;s++)o[t[s]]=Q.css(e,t[s],!1,i);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=E,E.prototype={constructor:E,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.options.duration?this.pos=t=Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=E.prototype.init,Q.fx.step={};var Xe,Ze,Ke=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[R],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Qe.exec(t),o=r&&r[3]||(Q.cssNumber[e]?"":"px"),s=(Q.cssNumber[e]||"px"!==o&&+i)&&Qe.exec(Q.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,Q.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--u)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var i=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Q.isEmptyObject(e),o=Q.speed(t,n,i),s=function(){var t=N(this,Q.extend({},e),o);(r||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=Q.timers,s=ve.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&et.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=Q.timers,s=i?i.length:0;for(n.finish=!0,Q.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),Q.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Xe=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Xe=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ze||(Ze=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ze),Ze=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var it,rt,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ge(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),i=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Q.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(fe);if(o&&1===e.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Q.find.attr;ot[t]=function(e,t,i){var r,o;return i||(o=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),r}});var st=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ge(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,r=Q.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,i,r,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=Q.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?Q.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=Q(this),o=e.match(fe)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===ke||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Q.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Q.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Q(this).val()):e,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(X.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=Q.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},X.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var dt=/#.*$/,ht=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},wt="*/".concat("*"),_t=e.location.href,xt=vt.exec(_t.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:pt.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,Q.ajaxSettings),t):P(Q.ajaxSettings,e)},ajaxPrefilter:L(yt),ajaxTransport:L(bt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,w,x=t;2!==b&&(b=2,a&&clearTimeout(a),i=void 0,o=s||"",_.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=I(d,_,n)),y=V(d,y,_,u),u?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Q.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(Q.etag[r]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,c=y.data,v=y.error,u=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",u?p.resolveWith(h,[c,x,_]):p.rejectWith(h,[_,x,v]),_.statusCode(g),g=void 0,l&&f.trigger(u?"ajaxSuccess":"ajaxError",[_,d,u?c:v]),m.fireWith(h,[_,x]),l&&(f.trigger("ajaxComplete",[_,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,u,l,c,d=Q.ajaxSetup({},t),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?Q(h):Q.event,p=Q.Deferred(),m=Q.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=ft.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(p.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||_t)+"").replace(dt,"").replace(gt,xt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(u=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===xt[1]&&u[2]===xt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),q(yt,d,t,_),2===b)return _;l=Q.event&&d.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ct.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ht.test(r)?r.replace(ht,"$1_="+lt++):r+(ct.test(r)?"&":"?")+"_="+lt++)),d.ifModified&&(Q.lastModified[r]&&_.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&_.setRequestHeader("If-None-Match",Q.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)_.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(h,_,d)===!1||2===b))return _.abort();w="abort";for(c in{success:1,error:1,complete:1})_[c](d[c]);if(i=q(bt,d,t,_)){_.readyState=1,l&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Ct=/%20/g,St=/\[\]$/,kt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,i=[],r=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){r(this.name,this.value)});else for(n in e)F(n,e[n],t,r);return i.join("&").replace(Ct,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Mt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Et=0,Dt={},Ot={0:200,1223:204},At=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Dt)Dt[e]()}),X.cors=!!At&&"withCredentials"in At,X.ajax=At=!!At,Q.ajaxTransport(function(e){var t;return X.cors||At&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),s=++Et;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Dt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Ot[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Dt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),
e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],jt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(jt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(jt,"$1"+r):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||Q.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(r)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=se.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Q.buildFragment([e],t,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var Nt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=Q.trim(e.slice(a)),e=e.slice(0,a)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&Q.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?Q("<div>").append(Q.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Lt=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var i,r,o,s,a,u,l,c=Q.css(e,"position"),d=Q(e),h={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=Q.css(e,"top"),u=Q.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,i)?(typeof i.getBoundingClientRect!==ke&&(r=i.getBoundingClientRect()),n=H(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(i=e.offset()),i.top+=Q.css(e[0],"borderTopWidth",!0),i.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Q.css(n,"marginTop",!0),left:t.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Lt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Lt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Q.fn[t]=function(r){return ge(this,function(t,r,o){var s=H(t);return void 0===o?s?s[n]:t[r]:void(s?s.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=x(X.pixelPosition,function(e,n){return n?(n=_(e,t),Be.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return ge(this,function(t,n,i){var r;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Q.css(t,n,s):Q.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var qt=e.jQuery,Pt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Pt),t&&e.jQuery===Q&&(e.jQuery=qt),Q},typeof t===ke&&(e.jQuery=e.$=Q),Q}),function(e){var t="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(r){}e(t,exports,i,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,i){var r=e.Backbone,o=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],u(e,this),r)};case 4:return function(e,r,o){return n[t](this[i],u(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}},a=function(e,t,i){n.each(t,function(t,r){n[r]&&(e.prototype[r]=s(t,r,i))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,h=function(e,t,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)t=h(e,t,s[a],i[s[a]],o)}else if(i&&d.test(i))for(s=i.split(d);a<s.length;a++)t=e(t,s[a],r,o);else t=e(t,i,r,o);return t};c.on=function(e,t,n){return f(this,e,t,n)};var f=function(e,t,n,i,r){if(e._events=h(p,e._events||{},t,n,{context:i,ctx:e,listening:r}),r){var o=e._listeners||(e._listeners={});o[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:e,objId:r,id:a,listeningTo:o,count:0}}return f(e,t,i,this,s),this};var p=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return e};c.off=function(e,t,n){return this._events?(this._events=h(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var o=e?[e._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var m=function(e,t,i,r){if(e){var o,s=0,a=r.context,u=r.listeners;if(t||i||a){for(var l=t?[t]:n.keys(e);s<l.length;s++){t=l[s];var c=e[t];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?d.push(f):(o=f.listening,o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var p=n.keys(u);s<p.length;s++)o=u[p[s]],delete u[o.id],delete o.listeningTo[o.objId]}};c.once=function(e,t,i){var r=h(g,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=h(g,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var g=function(e,t,i,r){if(i){var o=e[t]=n.once(function(){r(t,o),i.apply(this,arguments)});o._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;t>i;i++)n[i]=arguments[i+1];return h(v,this._events,e,void 0,n),this};var v=function(e,t,n,i){if(e){var r=e[t],o=e.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[t].concat(i))}return e},y=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var b=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in r)t=r[h],n.isEqual(l[h],t)||a.push(h),n.isEqual(d[h],t)?delete c[h]:c[h]=t,o?delete l[h]:l[h]=t;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=i);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,l[a[f]],i)}if(u)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var o=e[r];n.isEqual(t[r],o)||(i[r]=o)}return n.size(i)?i:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;return t.set(r,e)?(i&&i.call(e.context,t,n,e),void t.trigger("sync",t,n,e)):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,u=this.attributes;i.success=function(e){s.attributes=u;var t=i.parse?s.parse(e,i):e;return o&&(t=n.extend({},r,t)),t&&!s.set(t,i)?!1:(a&&a.call(i.context,s,e,i),void s.trigger("sync",s,e,i))},H(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&o(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(H(this,e),s=this.sync("delete",this,e)),r||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(b,w,"attributes");var _=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},x={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},S=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,o=0;o<i.length;o++)i[o]=e[o+n];for(o=0;r>o;o++)e[o+n]=t[o];for(o=0;o<i.length;o++)e[o+r+n]=i[o]};n.extend(_.prototype,c,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,C))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){t=n.defaults({},t,x),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),0>r&&(r+=this.length+1);for(var o,s=[],a=[],u=[],l={},c=t.add,d=t.merge,h=t.remove,f=!1,p=this.comparator&&null==r&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){o=e[g];var v=this.get(o);if(v){if(d&&o!==v){var y=this._isModel(o)?o.attributes:o;t.parse&&(y=v.parse(y,t)),v.set(y,t),p&&!f&&(f=v.hasChanged(m))}l[v.cid]||(l[v.cid]=!0,s.push(v)),e[g]=v}else c&&(o=e[g]=this._prepareModel(o,t),o&&(a.push(o),this._addReference(o,t),l[o.cid]=!0,s.push(o)))}if(h){for(g=0;g<this.length;g++)o=this.models[g],l[o.cid]||u.push(o);u.length&&this._removeModels(u,t)}var b=!1,w=!p&&c&&h;if(s.length&&w?(b=this.length!=s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):a.length&&(p&&(f=!0),S(this.models,a,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!t.silent){for(g=0;g<a.length;g++)null!=r&&(t.index=r+g),o=a[g],o.trigger("add",o,this,t);(f||b)&&this.trigger("sort",this,t),(a.length||u.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;if(e=this._prepareModel(e,t),!e)return!1;i||this.add(e,t);var r=this,o=t.success;return t.success=function(e,t,n){i&&r.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,t.silent||(t.index=o,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return n.length?n:!1},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=t))}this.trigger.apply(this,arguments)}}});var k={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(_,k,"models");var T=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,E)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(M);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var o=D[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||F()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var u=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,u&&u.call(r.context,e,t,n)};var l=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,l,r),l};var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var O=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,R=/(\(\?)?:\w+/g,j=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(O.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),t.history.trigger("route",o,i,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(A,"(?:$1)?").replace(R,function(e,t){return t?e:"([^/?]+)"}).replace(j,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var L=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},q=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,I=/#.*$/;L.started=!1,n.extend(L.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(q,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!L.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(I,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new L;var V=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};b.extend=_.extend=O.extend=T.extend=L.extend=V;var F=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}),function(e,t){"object"==typeof exports&&"function"==typeof require?module.exports=t(require("backbone")):"function"==typeof define&&define.amd?define("backbone.localStorage",["backbone"],function(n){return t(n||e.Backbone)}):t(Backbone)}(this,function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function n(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function i(e){return e===Object(e)}function r(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){if(null!=e){var n=e[t];return"function"==typeof n?e[t]():n}}return e.LocalStorage=window.Store=function(e,t){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=e,this.serializer=t||{serialize:function(e){return i(e)?JSON.stringify(e):e},deserialize:function(e){return e&&JSON.parse(e)}};var n=this.localStorage().getItem(this.name);this.records=n&&n.split(",")||[]},o(e.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(e){return e.id||0===e.id||(e.id=n(),e.set(e.idAttribute,e.id)),this.localStorage().setItem(this._itemName(e.id),this.serializer.serialize(e)),this.records.push(e.id.toString()),this.save(),this.find(e)},update:function(e){this.localStorage().setItem(this._itemName(e.id),this.serializer.serialize(e));var t=e.id.toString();return r(this.records,t)||(this.records.push(t),this.save()),this.find(e)},find:function(e){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(e.id)))},findAll:function(){for(var e,t,n=[],i=0;i<this.records.length;i++)e=this.records[i],t=this.serializer.deserialize(this.localStorage().getItem(this._itemName(e))),null!=t&&n.push(t);return n},destroy:function(e){this.localStorage().removeItem(this._itemName(e.id));for(var t=e.id.toString(),n=0;n<this.records.length;n++)this.records[n]===t&&this.records.splice(n,1);return this.save(),e},localStorage:function(){return localStorage},_clear:function(){var e=this.localStorage(),t=new RegExp("^"+this.name+"-");e.removeItem(this.name);for(var n in e)t.test(n)&&e.removeItem(n);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(e){return this.name+"-"+e}}),e.LocalStorage.sync=window.Store.sync=e.localSync=function(t,n,i){var r,o,a=s(n,"localStorage")||s(n.collection,"localStorage"),u=e.$?e.$.Deferred&&e.$.Deferred():e.Deferred&&e.Deferred();try{switch(t){case"read":r=void 0!=n.id?a.find(n):a.findAll();break;case"create":r=a.create(n);break;case"update":r=a.update(n);break;case"delete":r=a.destroy(n)}}catch(l){o=22===l.code&&0===a._storageSize()?"Private browsing is unsupported":l.message}return r?(i&&i.success&&("0.9.10"===e.VERSION?i.success(n,r,i):i.success(r)),u&&u.resolve(r)):(o=o?o:"Record Not Found",i&&i.error&&("0.9.10"===e.VERSION?i.error(n,o,i):i.error(o)),u&&u.reject(o)),i&&i.complete&&i.complete(r),u&&u.promise()},e.ajaxSync=e.sync,e.getSyncMethod=function(t,n){var i=n&&n.ajaxSync;return i||!s(t,"localStorage")&&!s(t.collection,"localStorage")?e.ajaxSync:e.localSync},e.sync=function(t,n,i){return e.getSyncMethod(n,i).apply(this,[t,n,i])},e.LocalStorage}),function(e,t){if("function"==typeof define&&define.amd)define("backbone.marionette",["backbone","underscore"],function(n,i){return e.Marionette=e.Mn=t(e,n,i)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=t(e,n,i)}else e.Marionette=e.Mn=t(e,e.Backbone,e._)}(this,function(e,t,n){"use strict";!function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];
return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.10",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}(t,n),function(e,t){var n=e.Wreqr,i=e.Wreqr={};return e.Wreqr.VERSION="1.3.5",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){return t.callback.apply(t.context,arguments)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),i.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),i.Commands=function(e,t){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),e.Handlers.prototype.constructor.apply(this,arguments)},execute:function(e){e=arguments[0];var n=t.rest(arguments);this.hasHandler(e)?this.getHandler(e).apply(this,n):this.storage.addCommand(e,n)},_executeCommands:function(e,n,i){var r=this.storage.getCommands(e);t.each(r.instances,function(e){n.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,i=e.storageType||this.storageType;n=t.isFunction(i)?new i:i,this.storage=n}})}(i,t),i.RequestResponse=function(e,t){return e.Handlers.extend({request:function(e){return this.hasHandler(e)?this.getHandler(e).apply(this,t.rest(arguments)):void 0}})}(i,t),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),i.Channel=function(n){var i=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,i){if(n){i=i||this;var r="vent"===e?"on":"setHandler";t.each(n,function(n,o){this[e][r](o,t.bind(n,i))},this)}}}),i}(i),i.radio=function(e,t){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(i[e],function(t){this[e][t]=r(this,e,t)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(e,n,i){return function(r){var o=e._getChannel(r)[n];return o[i].apply(o,t.rest(arguments))}};return new n}(i,t),e.Wreqr}(t,n);var i=e.Marionette,r=e.Mn,o=t.Marionette={};o.VERSION="2.4.3",o.noConflict=function(){return e.Marionette=i,e.Mn=r,this},t.Marionette=o,o.Deferred=t.$.Deferred,o.extend=t.Model.extend,o.isNodeAttached=function(e){return t.$.contains(document.documentElement,e)},o.mergeOptions=function(e,t){e&&n.extend(this,n.pick(e,t))},o.getOption=function(e,t){return e&&t?e.options&&void 0!==e.options[t]?e.options[t]:e[t]:void 0},o.proxyGetOption=function(e){return o.getOption(this,e)},o._getValue=function(e,t,i){return n.isFunction(e)&&(e=i?e.apply(t,i):e.call(t)),e},o.normalizeMethods=function(e){return n.reduce(e,function(e,t,i){return n.isFunction(t)||(t=this[t]),t&&(e[i]=t),e},{},this)},o.normalizeUIString=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},o.normalizeUIKeys=function(e,t){return n.reduce(e,function(e,n,i){var r=o.normalizeUIString(i,t);return e[r]=n,e},{})},o.normalizeUIValues=function(e,t,i){return n.each(e,function(r,s){n.isString(r)?e[s]=o.normalizeUIString(r,t):n.isObject(r)&&n.isArray(i)&&(n.extend(r,o.normalizeUIValues(n.pick(r,i),t)),n.each(i,function(e){var i=r[e];n.isString(i)&&(r[e]=o.normalizeUIString(i,t))}))}),e},o.actAsCollection=function(e,t){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){e[i]=function(){var e=n.values(n.result(this,t)),r=[e].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var s=o.deprecate=function(e,t){n.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),void 0!==t&&t||s._cache[e]||(s._warn("Deprecation warning: "+e),s._cache[e]=!0)};s._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},s._cache={},o._triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi;return function(i,r,o){var s=arguments.length<3;s&&(o=r,r=o[0]);var a,u="on"+r.replace(t,e),l=i[u];return n.isFunction(l)&&(a=l.apply(i,s?n.rest(o):o)),n.isFunction(i.trigger)&&(s+o.length>1?i.trigger.apply(i,s?o:[r].concat(n.drop(o,0))):i.trigger(r)),a}}(),o.triggerMethod=function(e){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(e){var t=n.isFunction(e.triggerMethod)?e.triggerMethod:o.triggerMethod;return t.apply(e,n.rest(arguments))},o.MonitorDOMRefresh=function(e){function t(){e._isShown=!0,i()}function n(){e._isRendered=!0,i()}function i(){e._isShown&&e._isRendered&&o.isNodeAttached(e.el)&&o.triggerMethodOn(e,"dom:refresh",e)}e._isDomRefreshMonitored||(e._isDomRefreshMonitored=!0,e.on({show:t,render:n}))},function(e){function t(t,i,r,o){var s=o.split(/\s+/);n.each(s,function(n){var o=t[n];if(!o)throw new e.Error('Method "'+n+'" was configured as an event handler, but does not exist.');t.listenTo(i,r,o)})}function i(e,t,n,i){e.listenTo(t,n,i)}function r(e,t,i,r){var o=r.split(/\s+/);n.each(o,function(n){var r=e[n];e.stopListening(t,i,r)})}function o(e,t,n,i){e.stopListening(t,n,i)}function s(t,i,r,o,s){if(i&&r){if(!n.isObject(r))throw new e.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=e._getValue(r,t),n.each(r,function(e,r){n.isFunction(e)?o(t,i,r,e):s(t,i,r,e)})}}e.bindEntityEvents=function(e,n,r){s(e,n,r,i,t)},e.unbindEntityEvents=function(e,t,n){s(e,t,n,o,r)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(o);var a=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(e,t){n.isObject(e)?(t=e,e=t.message):t||(t={});var i=Error.call(this,e);n.extend(this,n.pick(i,a),n.pick(t,a)),this.captureStackTrace(),t.url&&(this.url=this.urlRoot+t.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(e,t){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),i.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),o.Controller=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,t.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(e){this.options=n.extend({},n.result(this,"options"),e),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,t.Events,{initialize:function(){},destroy:function(){return this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,e)},show:function(e,t){if(this._ensureElement()){this._ensureViewIsIntact(e),o.MonitorDOMRefresh(e);var i=t||{},r=e!==this.currentView,s=!!i.preventDestroy,a=!!i.forceShow,u=!!this.currentView,l=r&&!s,c=r||a;if(u&&this.triggerMethod("before:swapOut",this.currentView,this,t),this.currentView&&delete this.currentView._parent,l?this.empty():u&&c&&this.currentView.off("destroy",this.empty,this),c){e.once("destroy",this.empty,this),this._renderView(e),e._parent=this,u&&this.triggerMethod("before:swap",e,this,t),this.triggerMethod("before:show",e,this,t),o.triggerMethodOn(e,"before:show",e,this,t),u&&this.triggerMethod("swapOut",this.currentView,this,t);var d=o.isNodeAttached(this.el),h=[],f=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},i);return d&&f.triggerBeforeAttach&&(h=this._displayedViews(e),this._triggerAttach(h,"before:")),this.attachHtml(e),this.currentView=e,d&&f.triggerAttach&&(h=this._displayedViews(e),this._triggerAttach(h)),u&&this.triggerMethod("swap",e,this,t),this.triggerMethod("show",e,this,t),o.triggerMethodOn(e,"show",e,this,t),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(e,t){var i=(t||"")+"attach";n.each(e,function(e){o.triggerMethodOn(e,i,e,this)},this)},_displayedViews:function(e){return n.union([e],n.result(e,"_getNestedViews")||[])},_renderView:function(e){e.supportsRenderLifecycle||o.triggerMethodOn(e,"before:render",e),e.render(),e.supportsRenderLifecycle||o.triggerMethodOn(e,"render",e)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(e){if(!e)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(e.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+e.cid+'") has already been destroyed and cannot be used.'})},getEl:function(e){return t.$(e,o._getValue(this.options.parentEl,this))},attachHtml:function(e){this.$el.contents().detach(),this.el.appendChild(e.el)},empty:function(e){var t=this.currentView,n=e||{},i=!!n.preventDestroy;return t?(t.off("destroy",this.empty,this),this.triggerMethod("before:empty",t),i||this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,i&&this.$el.contents().detach(),this):void 0},_destroyView:function(){var e=this.currentView;e.isDestroyed||(e.supportsDestroyLifecycle||o.triggerMethodOn(e,"before:destroy",e),e.destroy?e.destroy():(e.remove(),e.isDestroyed=!0),e.supportsDestroyLifecycle||o.triggerMethodOn(e,"destroy",e))},attachView:function(e){return this.currentView&&delete this.currentView._parent,e._parent=this,this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(e,t){if(n.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(n.isFunction(e))return this._buildRegionFromRegionClass(e);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,t){var i=e.regionClass||t,r=n.omit(e,"selector","regionClass");return e.selector&&!r.el&&(r.el=e.selector),new i(r)},_buildRegionFromRegionClass:function(e){return new e}}),o.RegionManager=o.Controller.extend({constructor:function(e){this._regions={},this.length=0,o.Controller.call(this,e),this.addRegions(this.getOption("regions"))},addRegions:function(e,t){return e=o._getValue(e,this,arguments),n.reduce(e,function(e,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,t)),e[r]=this.addRegion(r,i),e},{},this)},addRegion:function(e,t){var n;return n=t instanceof o.Region?t:o.Region.buildRegion(t,o.Region),this.triggerMethod("before:add:region",e,n),n._parent=this,this._store(e,n),this.triggerMethod("add:region",e,n),n},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return n.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return n.invoke(e,"empty"),e},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]||this.length++,this._regions[e]=t},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete t._parent,delete this._regions[e],this.length--,this.triggerMethod("remove:region",e,t)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(e){this.templateId=e},n.extend(o.TemplateCache,{templateCaches:{},get:function(e,t){var n=this.templateCaches[e];return n||(n=new o.TemplateCache(e),this.templateCaches[e]=n),n.load(t)},clear:function(){var e,t=n.toArray(arguments),i=t.length;if(i>0)for(e=0;i>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(e){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId,e);return this.compiledTemplate=this.compileTemplate(t,e),this.compiledTemplate},loadTemplate:function(e,n){var i=t.$(e);if(!i.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return i.html()},compileTemplate:function(e,t){return n.template(e,t)}}),o.Renderer={render:function(e,t){if(!e)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(e)?e:o.TemplateCache.get(e);return i(t)}},o.View=t.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(e){this.render=n.bind(this.render,this),e=o._getValue(e,this),this.options=n.extend({},n.result(this,"options"),e),this._behaviors=o.Behaviors(this),t.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,n.rest(arguments))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return t=o._getValue(t,this),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"_uiBindings");return o.normalizeUIKeys(e,t||n.result(this,"ui"))},normalizeUIValues:function(e,t){var i=n.result(this,"ui"),r=n.result(this,"_uiBindings");return o.normalizeUIValues(e,r||i,t)},configureTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(e,function(e,t,n){return e[n]=this._buildViewTrigger(t),e},{},this)}},delegateEvents:function(e){return this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.bindEntityEvents(this.model,e.getOption("modelEvents")),e.bindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(e){var i=o._getValue(e||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(e)&&(this.events=i);var r={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),u=n.result(this,"behaviorTriggers")||{};n.extend(r,s,i,a,u),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return t.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.unbindEntityEvents(this.model,e.getOption("modelEvents")),e.unbindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var e=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",e),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(e,function(e,t){this.ui[t]=this.$(e)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(e){var t=n.defaults({},e,{preventDefault:!0,stopPropagation:!0}),i=n.isObject(e)?t.event:e;return function(e){e&&(e.preventDefault&&t.preventDefault&&e.preventDefault(),e.stopPropagation&&t.stopPropagation&&e.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,n)}},setElement:function(){var e=t.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),e},triggerMethod:function(){var e=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),e},_triggerEventOnBehaviors:function(e){for(var t=o._triggerMethod,n=this._behaviors,i=0,r=n&&n.length;r>i;i++)t(n[i],e)},_triggerEventOnParentLayout:function(e,t){var i=this._parentLayoutView();if(i){var r=o.getOption(i,"childViewEventPrefix"),s=r+":"+e,a=[this].concat(t);o._triggerMethod(i,s,a);var u=o.getOption(i,"childEvents"),l=i.normalizeMethods(u);l&&n.isFunction(l[e])&&l[e].apply(i,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var e=this._getImmediateChildren();return e.length?n.reduce(e,function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e},e):e},_getAncestors:function(){for(var e=[],t=this._parent;t;)e.push(t),t=t._parent;return e},_parentLayoutView:function(){var e=this._getAncestors();return n.find(e,function(e){return e instanceof o.LayoutView})},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var e=[this.model||this.collection];return arguments.length&&e.push.apply(e,arguments),this.model?this.serializeModel.apply(this,e):{items:this.serializeCollection.apply(this,e)}},serializeCollection:function(e){return e.toJSON.apply(e,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(e!==!1){if(!e)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var t=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(e,t,this);return this.attachElContent(n),this}},attachElContent:function(e){return this.$el.html(e),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(e){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var e,t=this._isShown&&o.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),t&&this._triggerBeforeAttach&&(e=this._getNestedViews(),this._triggerMethodMany(e,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),t&&this._triggerAttach&&(e=this._getNestedViews(),this._triggerMethodMany(e,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(e,t,i){var r=n.drop(arguments,3);n.each(e,function(e){o.triggerMethodOn.apply(e,[e,i,e,t].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,t,i){var r=void 0!==i.at&&(i.index||t.indexOf(e));if((this.getOption("filter")||r===!1)&&(r=n.indexOf(this._filteredSortedModels(r),e)),this._shouldAddChild(e,r)){this.destroyEmptyView();var o=this.getChildView(e);this.addChild(e,o,r)}},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(e){o.triggerMethodOn(e,"before:show",e)})},_onShowCalled:function(){this.children.each(function(e){o.triggerMethodOn(e,"show",e)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var e=this.children,t=this._filteredSortedModels(),i=n.find(t,function(t){return!e.findByModel(t)});if(i)this.render();else{var r=n.map(t,function(t,n){var i=e.findByModel(t);return i._index=n,i.el});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var e=this._filteredSortedModels(),t=n.find(e,function(e,t){var n=this.children.findByModel(e);return!n||n._index!==t},this);t&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(e){this.$el.append(e)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var e,t=this._filteredSortedModels();n.each(t,function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},_filteredSortedModels:function(e){var t=this.getViewComparator(),i=this.collection.models;if(e=Math.min(Math.max(e,0),i.length-1),t){var r;e&&(r=i[e],i=i.slice(0,e).concat(i.slice(e+1))),i=this._sortModelsBy(i,t),r&&i.splice(e,0,r)}return this.getOption("filter")&&(i=n.filter(i,function(e,t){return this._shouldAddChild(e,t)},this)),i},_sortModelsBy:function(e,t){return"string"==typeof t?n.sortBy(e,function(e){return e.get(t)},this):1===t.length?n.sortBy(e,t,this):e.sort(n.bind(t,this))},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var i,r=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el),s=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(s)&&(s=s.call(this,e,this._emptyViewIndex));var a=this.buildChildView(e,t,s);a._parent=this,this.proxyChildEvents(a),a.once("render",function(){this._isShown&&o.triggerMethodOn(a,"before:show",a),r&&this._triggerBeforeAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),r&&this._triggerAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"attach")),this._isShown&&o.triggerMethodOn(a,"show",a)},getChildView:function(e){var t=this.getOption("childView");if(!t)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(e,t,n){var i=this.getOption("childViewOptions");i=o._getValue(i,this,[e,n]);var r=this.buildChildView(e,t,i);return this._updateIndices(r,!0,n),this.triggerMethod("before:add:child",r),this._addChildView(r,n),this.triggerMethod("add:child",r),r._parent=this,r},_updateIndices:function(e,t,n){this.getOption("sort")&&(t&&(e._index=n),this.children.each(function(n){n._index>=e._index&&(n._index+=t?1:-1)}))},_addChildView:function(e,t){var n,i=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el);this.proxyChildEvents(e),e.once("render",function(){this._isShown&&!this.isBuffering&&o.triggerMethodOn(e,"before:show",e),i&&this._triggerBeforeAttach&&(n=this._getViewAndNested(e),this._triggerMethodMany(n,this,"before:attach"))},this),this.children.add(e),this.renderChildView(e,t),i&&this._triggerAttach&&(n=this._getViewAndNested(e),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&o.triggerMethodOn(e,"show",e)},renderChildView:function(e,t){return e.supportsRenderLifecycle||o.triggerMethodOn(e,"before:render",e),e.render(),e.supportsRenderLifecycle||o.triggerMethodOn(e,"render",e),this.attachHtml(this,e,t),e},buildChildView:function(e,t,i){var r=n.extend({model:e},i),s=new t(r);return o.MonitorDOMRefresh(s),s},removeChildView:function(e){return e?(this.triggerMethod("before:remove:child",e),e.supportsDestroyLifecycle||o.triggerMethodOn(e,"before:destroy",e),e.destroy?e.destroy():e.remove(),e.supportsDestroyLifecycle||o.triggerMethodOn(e,"destroy",e),delete e._parent,this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1),e):e},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},_createBuffer:function(){var e=document.createDocumentFragment();return n.each(this._bufferedChildren,function(t){e.appendChild(t.el)}),e},attachHtml:function(e,t,n){e.isBuffering?e._bufferedChildren.splice(n,0,t):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,i=this.getOption("sort")&&t<this.children.length-1;return i&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(e){var t=e||{},i=!0,r=this.children.map(n.identity);return n.isUndefined(t.checkEmpty)||(i=t.checkEmpty),this.children.each(this.removeChildView,this),i&&this.checkEmpty(),r},_shouldAddChild:function(e,t){var i=this.getOption("filter");return!n.isFunction(i)||i.call(this,e,t,this.collection)},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var i=n.toArray(arguments),r=i[0],o=this.normalizeMethods(n.result(this,"childEvents"));i[0]=t+":"+r,i.splice(1,0,e),"undefined"!=typeof o&&n.isFunction(o[r])&&o[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)})},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(e){return[e].concat(n.result(e,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(e){var t=this.getOption("childView")||this.constructor;return t},serializeData:function(){var e={};return this.model&&(e=n.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=o.Renderer.render(t,e,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);
n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this,e);t.append(e.el)},_appendReorderedChildren:function(e){var t=this.getChildViewContainer(this);t.append(e)},getChildViewContainer:function(e,t){if(e.$childViewContainer)return e.$childViewContainer;var n,i=o.getOption(e,"childViewContainer");if(i){var r=o._getValue(i,e);if(n="@"===r.charAt(0)&&e.ui?e.ui[r.substr(4)]:e.$(r),n.length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else n=e.$el;return e.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),o.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(e,t){return this.getRegion(e).show(t)},getChildView:function(e){return this.getRegion(e).currentView},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(e,t)},_initializeRegions:function(e){var t;this._initRegionManager(),t=o._getValue(this.regions,this,[e])||{};var i=this.getOption.call(e,"regions");i=o._getValue(i,this,[e]),n.extend(t,i),t=this.normalizeUIValues(t,["selector","el"]),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(e,t){this.view=t,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,e),this.ui=n.extend({},n.result(t,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(e){this.$el=e.$el,this.el=e.el}}),o.Behaviors=function(e,t){function n(e,i){return t.isObject(e.behaviors)?(i=n.parseBehaviors(e,i||t.result(e,"behaviors")),n.wrap(e,i,t.keys(s)),i):{}}function i(e,t){this._view=e,this._behaviors=t,this._triggers={}}function r(e){return e._uiBindings||e.ui}var o=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(e,t){var n=new i(this,t);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var s={};return t.each(i,function(n,i){var a={},u=t.clone(t.result(n,"events"))||{};u=e.normalizeUIKeys(u,r(n));var l=0;t.each(u,function(e,r){var s=r.match(o),u=s[1]+"."+[this.cid,i,l++," "].join(""),c=s[2],d=u+c,h=t.isFunction(e)?e:n[e];a[d]=t.bind(h,n)},this),s=t.extend(s,a)},this),s}};return t.extend(n,{behaviorsLookup:function(){throw new e.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(t,i){return t.behaviorClass?t.behaviorClass:e._getValue(n.behaviorsLookup,this,[t,i])[i]},parseBehaviors:function(e,i){return t.chain(i).map(function(i,r){var o=n.getBehaviorClass(i,r),s=new o(i,e),a=n.parseBehaviors(e,t.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(s[i],e[i],n)})}}),t.extend(i.prototype,{buildBehaviorTriggers:function(){return t.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var o=t.clone(t.result(n,"triggers"))||{};o=e.normalizeUIKeys(o,r(n)),t.each(o,t.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(e,t,n,i){var r=i.replace(/^\S+/,function(e){return e+".behaviortriggers"+t});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(o,n),o.AppRouter=t.Router.extend({constructor:function(e){this.options=e||{},t.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[e];this.onRoute(e,i,t)}},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,i){var r=e[i];if(!r)throw new o.Error('Method "'+i+'" was not found on the controller');this.route(t,i,n.bind(r,e))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(e){this._initializeRegions(e),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,e),this._initChannel(),o.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var i=o.Module.getClass(t),r=n.toArray(arguments);return r.unshift(this),i.create.apply(i,r)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(e){var t=n.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var i=o.getOption(e,"regions");return n.isFunction(i)&&(i=i.call(this,e)),n.extend(t,i),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){o._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,o._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){o._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(e){delete this[e],o._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,t.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var r=n.flatten([this,this.app,t,o,t.$,n,i]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(e,t,i){var r=e,o=n.drop(arguments,3);t=t.split(".");var s=t.length,a=[];return a[s-1]=i,n.each(t,function(t,n){var s=r;r=this._getModule(s,t,e,i),this._addModuleDefinition(s,r,a[n],o)},this),r},_getModule:function(e,t,i,r,o){var s=n.extend({},r),a=this.getClass(r),u=e[t];return u||(u=new a(t,i,s),e[t]=u,e.submodules[t]=u),u},getClass:function(e){var t=o.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,i){var r=this._getDefine(n),o=this._getStartWithParent(n,t);r&&t.addDefinition(r,i),this._addStartWithParent(e,t,o)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof o.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof o.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),o}),function(e){"function"==typeof define&&define.amd?define("backbone.stickit",["underscore","backbone","exports"],e):"object"==typeof exports?e(require("underscore"),require("backbone"),exports):e(_,Backbone,{})}(function(e,t,n){t.Stickit=n,n._handlers=[],n.addHandler=function(t){t=e.map(e.flatten([t]),function(t){return e.defaults({},t,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(t)},n.ViewMixin={_modelBindings:null,unstickit:function(t,n){if(e.isObject(n))return void e.each(n,function(e,n){this.unstickit(t,n)},this);var i=[],r=[];this._modelBindings=e.reject(this._modelBindings,function(e){return t&&e.model!==t||n&&e.config.selector!=n?void 0:(e.model.off(e.event,e.fn),r.push(e.config._destroy),i.push(e.model),!0)}),e.invoke(e.uniq(i),"trigger","stickit:unstuck",this.cid),e.each(e.uniq(r),function(e){e.call(this)},this),this.$el.off(".stickit"+(t?"."+t.cid:""),n)},stickit:function(t,n){var i=t||this.model,r=n||e.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(i,r);var o=this.remove;return o.stickitWrapped||(this.remove=function(){var e=this;return this.unstickit(),o&&(e=o.apply(this,arguments)),e}),this.remove.stickitWrapped=!0,this},addBinding:function(t,n,r){var m=t||this.model,g=".stickit."+m.cid;if(r=r||{},e.isObject(n)){var v=n;return void e.each(v,function(e,t){this.addBinding(m,t,e)},this)}var y=":el"===n?this.$el:this.$(n);if(this.unstickit(m,n),y.length){e.isString(r)&&(r={observe:r}),e.isFunction(r.observe)&&(r.observe=r.observe.call(this));var b=c(y,r),w=b.observe;b.selector=n,b.view=this;var _=b.bindId=e.uniqueId(),x=e.extend({stickitChange:b},b.setOptions);if(b._destroy=function(){o.call(this,b.destroy,y,m,b)},d(y,b,m,w),f(y,b,m,w),h(y,b,m,w),w){e.each(b.events,function(t){var r=t+g,a=function(e){var t=o.call(this,b.getVal,y,e,b,i.call(arguments,1)),n=s(b.updateModel,t,e,b);n&&u(m,w,t,x,b)},l=":el"===n?"":n;this.$el.on(r,l,e.bind(a,this))},this),e.each(e.flatten([w]),function(e){a(m,"change:"+e,b,function(e,t,n){var i=n&&n.stickitChange&&n.stickitChange.bindId;if(i!==_){var r=l(m,w,b);p(y,b,r,m)}})});var C=l(m,w,b);p(y,b,C,m,!0)}o.call(this,b.initialize,y,m,b)}}},e.extend(t.View.prototype,n.ViewMixin);var i=[].slice,r=function(t,n){var i=(n||"").split("."),r=e.reduce(i,function(e,t){return e[t]},t);return null==r?t:r},o=function(t){return t=e.isString(t)?r(this,t):t,t?t.apply(this,i.call(arguments,1)):void 0},s=function(t,n,i){if(e.isBoolean(t))return t;if(e.isFunction(t)||e.isString(t)){var r=e.last(arguments).view;return o.apply(r,arguments)}return!1},a=function(e,t,n,i){var r=n.view;e.on(t,i,r),r._modelBindings.push({model:e,event:t,fn:i,config:n})},u=function(t,n,i,r,s){var a={},u=s.view;s.onSet&&(i=o.call(u,s.onSet,i,s)),s.set?o.call(u,s.set,n,i,r,s):(a[n]=i,e.isArray(n)&&e.isArray(i)&&(a=e.reduce(n,function(t,n,r){return t[n]=e.has(i,r)?i[r]:null,t},{})),t.set(a,r))},l=function(t,n,i){var r=i.view,s=function(e){return t[i.escape?"escape":"get"](e)},a=function(e){return null==e?"":e},u=e.isArray(n)?e.map(n,s):s(n);return i.onGet&&(u=o.call(r,i.onGet,u,i)),e.isArray(u)?e.map(u,a):a(u)},c=n.getConfiguration=function(t,i){var r=[{updateModel:!1,updateMethod:"text",update:function(e,t,n,i){e[i.updateMethod]&&e[i.updateMethod](t)},getVal:function(e,t,n){return e[n.updateMethod]()}}];r=r.concat(e.filter(n._handlers,function(e){return t.is(e.selector)})),r.push(i);var o=e.extend.apply(e,r);return e.has(o,"updateView")||(o.updateView=!o.visible),o},d=function(t,n,i,r){var o=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],s=n.view;e.each(n.attributes||[],function(u){u=e.clone(u),u.view=s;var c="",d=u.observe||(u.observe=r),h=function(){var n=e.contains(o,u.name)?"prop":"attr",r=l(i,d,u);"class"===u.name?(t.removeClass(c).addClass(r),c=r):t[n](u.name,r)};e.each(e.flatten([d]),function(e){a(i,"change:"+e,n,h)}),h()})},h=function(t,n,i,r){e.each(n.classes||[],function(r,o){e.isString(r)&&(r={observe:r}),r.view=n.view;var s=r.observe,u=function(){var e=l(i,s,r);t.toggleClass(o,!!e)};e.each(e.flatten([s]),function(e){a(i,"change:"+e,n,u)}),u()})},f=function(t,n,i,r){if(null!=n.visible){var s=n.view,u=function(){var a=n.visible,u=n.visibleFn,c=l(i,r,n),d=!!c;(e.isFunction(a)||e.isString(a))&&(d=!!o.call(s,a,c,n)),u?o.call(s,u,t,d,n):t.toggle(d)};e.each(e.flatten([r]),function(e){a(i,"change:"+e,n,u)}),u()}},p=function(e,t,n,i,r){var a=t.view;s(t.updateView,n,t)&&(o.call(a,t.update,e,n,i,t),r||o.call(a,t.afterUpdate,e,n,t))};return n.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:'input[type="radio"]',events:["change"],update:function(e,t){e.filter('[value="'+t+'"]').prop("checked",!0)},getVal:function(e){return e.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,i,r,o){if(n.length>1)i||(i=[]),n.each(function(n,r){var o=t.$(r),s=e.contains(i,o.val());o.prop("checked",s)});else{var s=e.isBoolean(i)?i:i===n.val();n.prop("checked",s)}},getVal:function(n){var i;if(n.length>1)i=e.reduce(n,function(e,n){var i=t.$(n);return i.prop("checked")&&e.push(i.val()),e},[]);else{i=n.prop("checked");var r=n.val();"on"!==r&&null!=r&&(i=i?n.val():null)}return i}},{selector:"select",events:["change"],update:function(n,i,s,a){var u,c=a.selectOptions,d=c&&c.collection||void 0,h=n.prop("multiple");if(!c){c={};var f=function(e){return e.map(function(e,n){var i=t.$(n).data("stickit-bind-val");return{value:void 0!==i?i:n.value,label:n.text}}).get()};n.find("optgroup").length?(d={opt_labels:[]},n.find("> option").length&&(d.opt_labels.push(void 0),e.each(n.find("> option"),function(e){d[void 0]=f(t.$(e))})),e.each(n.find("optgroup"),function(e){var n=t.$(e).attr("label");d.opt_labels.push(n),d[n]=f(t.$(e).find("option"))})):d=f(n.find("option"))}c.valuePath=c.valuePath||"value",c.labelPath=c.labelPath||"label",c.disabledPath=c.disabledPath||"disabled";var p=function(n,i,o){e.each(n,function(n){var s,a,u,l=t.$("<option/>"),d=n,f=function(t,n,i){l.text(t),d=n,l.data("stickit-bind-val",d),e.isArray(d)||e.isObject(d)||l.val(d),i===!0&&l.prop("disabled","disabled")};"__default__"===n?(s=o.label,a=o.value,u=o.disabled):(s=r(n,c.labelPath),a=r(n,c.valuePath),u=r(n,c.disabledPath)),f(s,a,u);var p=function(){return h||null==d||null==o||d!==o?e.isObject(o)&&e.isEqual(d,o)?!0:!1:!0};p()?l.prop("selected",!0):h&&e.isArray(o)&&e.each(o,function(t){e.isObject(t)&&(t=r(t,c.valuePath)),(t===d||e.isObject(t)&&e.isEqual(d,t))&&l.prop("selected",!0)}),i.append(l)})};if(n.find("*").remove(),e.isString(d)){var m=window;0===d.indexOf("this.")&&(m=this),d=d.replace(/^[a-z]*\.(.+)$/,"$1"),u=r(m,d)}else u=e.isFunction(d)?o.call(this,d,n,a):d;if(u instanceof t.Collection){var g=u,v=function(){var e=l(s,a.observe,a);o.call(this,a.update,n,e,s,a)},y=function(){g.off("add remove reset sort",v)},b=function(){y(),g.off("stickit:selectRefresh"),s.off("stickit:selectRefresh")};g.trigger("stickit:selectRefresh"),g.once("stickit:selectRefresh",y,this),g.on("add remove reset sort",v,this),s.trigger("stickit:selectRefresh"),s.once("stickit:selectRefresh",function(){s.off("stickit:unstuck",b)}),s.once("stickit:unstuck",b,this),u=u.toJSON()}if(c.defaultOption){var w=e.isFunction(c.defaultOption)?c.defaultOption.call(this,n,a):c.defaultOption;p(["__default__"],n,w)}if(e.isArray(u))p(u,n,i);else if(u.opt_labels)e.each(u.opt_labels,function(e){var r=t.$("<optgroup/>").attr("label",e);p(u[e],r,i),n.append(r)});else{var _,x=[];for(var C in u)_={},_[c.valuePath]=C,_[c.labelPath]=u[C],x.push(_);x=e.sortBy(x,c.comparator||c.labelPath),p(x,n,i)}},getVal:function(n){var i=n.find("option:selected");return n.prop("multiple")?e.map(i,function(e){return t.$(e).data("stickit-bind-val")}):i.data("stickit-bind-val")}}]),n}),function(e){define("backbone.nested-attributes",["backbone"],function(){return function(){return function(e,t){function n(e,n){return n&&t(e.relations).each(function(t){"one"==t.type?i(e,t,n):r(e,t,n)}),a(e),n}function i(n,i,r){var o=i.key,s=r[o],a=t(i).result("relatedModel");s&&(s=s instanceof e.Model?s:new a(s),u(n,s,i),r[o]=s)}function r(e,t,n){var i=t.key,r=n[i],s=n["deleted_"+i],a=e.get(i),l=a||d(t);return r=o(r),u(e,l,t),r&&l.set(r),s&&(delete n["deleted_"+i],s=o(s),l.deletedModels.set(s)),n[i]=l,n}function o(t){return t instanceof e.Collection?t.slice():t}function s(e){t(e.relations).each(function(t){var n=e.get(t.key);n&&n.each&&(n.each(function(e){s(e)}),n.deletedModels&&n.deletedModels.reset())})}function a(e){e._hasNestedAttributesEventsConfigured||(e.on("sync",s),e._hasNestedAttributesEventsConfigured=!0)}function u(e,t,n){t._hasEventBubblingConfigured||(e.listenTo(t,"add change nested:change remove",function(t,i){e.trigger("nested:change change:"+n.key,t,i)}),t._hasEventBubblingConfigured=!0)}function l(e){t(e.relations).each(function(t){var n=e.get(t.key);e.stopListening(n),n.off("remove",f,n),n.deletedModels&&n.deletedModels.reset()},e)}function c(e,n,i){return t(n).each(function(n){var r,o=n.key,s=e[o],a=[];s&&(i&&(i.withDeleted&&s.deletedModels&&(e["deleted_"+o]=s.deletedModels.toJSON(i)),i.nested&&(s.deletedModels&&(a=s.deletedModels.toJSON(i)),delete e[o],o+="_attributes")),r=s.toJSON(i),t(r).isArray()&&(r=r.concat(a)),s&&i&&i.nested&&n.serialize_keys&&(r=t(r).isArray()?t.map(r,function(e){return t.pick(e,n.serialize_keys)}):t.pick(r,n.serialize_keys)),e[o]=r)}),e}function d(n){var i=t(n).result("collectionType")||e.Collection,r=new i;return r.model=t(n).result("relatedModel")||r.model,r.destroy_action=n.destroy_action||"_destroy",n.serialize_keys&&n.serialize_keys.push(r.destroy_action),r.deletedModels=new e.Collection,r.deletedModels.model=r.model,r.on("add",h),r.on("remove",f),r}function h(e,t){e.get(t.destroy_action)&&e.unset(t.destroy_action,{silent:!0}),e.isNew()||t.deletedModels.remove(e)}function f(e,t){e.isNew()||(param={},param[t.destroy_action]=!0,e.set(param,{silent:!0}),t.deletedModels.add(e))}var p=e.Model.prototype;e.NestedAttributesModel=e.Model.extend({set:function(e,i,r){var o;return t.isObject(e)||null==e?(o=e,r=i):(o={},o[e]=i),p.set.call(this,n(this,o),r)},toJSON:function(e){return c(p.toJSON.apply(this,arguments),this.relations,e)},clone:function(){return new this.constructor(this.toJSON())},clear:function(e){return l(this),p.clear.apply(this,arguments)}})}(Backbone,_),function(e,t){function n(e){this.model=e,e.on("nested:change",this.change,this),e.on("change",this.change,this),e.on("sync",this.save,this)}var i=e.NestedAttributesModel,r=i.prototype;t.extend(n.prototype,e.Events,{change:function(){this.changed=!0},save:function(){this.updateAttributes(),this.model.trigger("state:store")},undo:function(){this.attributesToUnset().each(function(e){this.model.unset(e)},this),this.model.set(this.attributes),this.updateAttributes(),this.model.trigger("state:restore")},attributesToUnset:function(){var e=t(this.attributes||{}).keys();return t(this.model.attributes).chain().keys().select(function(n){return!t(e).include(n)})},updateAttributes:function(){this.attributes=this.model.toJSON({withDeleted:!0}),this.changed=!1}}),e.UndoableModel=i.extend({initialize:function(){r.initialize.apply(this,arguments),this.undoable()},undoable:function(){this.saveState()},undo:function(){this.undoableState().undo()},hasChangedSinceSync:function(){return this.undoableState().changed===!0},saveState:function(){this.undoableState().save()},undoableState:function(){return this._undoableState=this._undoableState||new n(this)}})}(Backbone,_),e.Backbone=Backbone}.apply(e,arguments)})}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Nn.apply(null,arguments)}function t(e){Nn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return Ee(e,t,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=u()),e._pf}function c(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?s(l(t),e):l(t).userInvalidated=!0,t}function h(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=l(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),qn.length>0)for(n in qn)i=qn[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function f(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Pn===!1&&(Pn=!0,e.updateOffset(this),Pn=!1)}function p(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function v(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&s++;return s+o}function y(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,r,o=0;o<e.length;){for(r=b(e[o]).split("-"),t=r.length,n=b(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=_(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&v(r,n,!0)>=t-1)break;t--}o++}return null}function _(e){var t=null;if(!In[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ln._abbr,require("./locale/"+e),x(t)}catch(n){}return In[e]}function x(e,t){var n;return e&&(n="undefined"==typeof t?S(e):C(e,t),n&&(Ln=n)),Ln._abbr}function C(e,t){return null!==t?(t.abbr=e,In[e]=In[e]||new y,In[e].set(t),x(e),In[e]):(delete In[e],null)}function S(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ln;if(!n(e)){if(t=_(e))return t;e=[e]}return w(e)}function k(e,t){var n=e.toLowerCase();Vn[n]=Vn[n+"s"]=Vn[t]=e}function T(e){return"string"==typeof e?Vn[e]||Vn[e.toLowerCase()]:void 0}function M(e){var t,n,i={};for(n in e)o(e,n)&&(t=T(n),t&&(i[t]=e[n]));return i}function E(t,n){return function(i){return null!=i?(O(this,t,i),e.updateOffset(this,n),this):D(this,t)}}function D(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function O(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function A(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function R(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function j(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(zn[e]=r),t&&(zn[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(zn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function N(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,i=e.match(Fn);for(t=0,n=i.length;n>t;t++)zn[i[t]]?i[t]=zn[i[t]]:i[t]=N(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function q(e,t){return e.isValid()?(t=P(t,e.localeData()),Bn[t]=Bn[t]||L(t),Bn[t](e)):e.localeData().invalidDate()}function P(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Hn.lastIndex=0;i>=0&&Hn.test(e);)e=e.replace(Hn,n),Hn.lastIndex=0,i-=1;return e}function I(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function V(e,t,n){ri[e]=I(t)?t:function(e){return e&&n?n:t}}function F(e,t){return o(ri,e)?ri[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)oi[e[n]]=i}function z(e,t){B(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function Y(e,t,n){null!=t&&o(oi,e)&&oi[e](t,n._a,n,e)}function $(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function W(e){return this._months[e.month()]}function U(e){return this._monthsShort[e.month()]}function G(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function J(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function X(t){return null!=t?(J(this,t),e.updateOffset(this,!0),this):D(this,"Month")}function Z(){return $(this.year(),this.month())}function K(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[ai]<0||n[ai]>11?ai:n[ui]<1||n[ui]>$(n[si],n[ai])?ui:n[li]<0||n[li]>24||24===n[li]&&(0!==n[ci]||0!==n[di]||0!==n[hi])?li:n[ci]<0||n[ci]>59?ci:n[di]<0||n[di]>59?di:n[hi]<0||n[hi]>999?hi:-1,l(e)._overflowDayOfYear&&(si>t||t>ui)&&(t=ui),l(e).overflow=t),e}function Q(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(e,t){var n=!0;return s(function(){return n&&(Q(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function te(e,t){mi[e]||(Q(t),mi[e]=!0)}function ne(e){var t,n,i=e._i,r=gi.exec(i);if(r){for(l(e).iso=!0,t=0,n=vi.length;n>t;t++)if(vi[t][1].exec(i)){e._f=vi[t][0];break}for(t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(i)){e._f+=(r[6]||" ")+yi[t][0];break}i.match(ti)&&(e._f+="Z"),_e(e)}else e._isValid=!1}function ie(t){var n=bi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ne(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function re(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 1970>e&&a.setFullYear(e),a}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function se(e){return ae(e)?366:365}function ae(e){return e%4===0&&e%100!==0||e%400===0}function ue(){return ae(this.year())}function le(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=De(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ce(e){return le(e,this._week.dow,this._week.doy).week}function de(){return this._week.dow}function he(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function pe(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function me(e,t,n,i,r){var o,s=6+r-i,a=oe(e,0,1+s),u=a.getUTCDay();return r>u&&(u+=7),n=null!=n?1*n:r,o=1+s+7*(t-1)-u+n,{year:o>0?e:e-1,dayOfYear:o>0?o:se(e-1)+o}}function ge(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ve(e,t,n){return null!=e?e:null!=t?t:n}function ye(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function be(e){var t,n,i,r,o=[];if(!e._d){for(i=ye(e),e._w&&null==e._a[ui]&&null==e._a[ai]&&we(e),e._dayOfYear&&(r=ve(e._a[si],i[si]),e._dayOfYear>se(r)&&(l(e)._overflowDayOfYear=!0),n=oe(r,0,e._dayOfYear),e._a[ai]=n.getUTCMonth(),e._a[ui]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[li]&&0===e._a[ci]&&0===e._a[di]&&0===e._a[hi]&&(e._nextDay=!0,e._a[li]=0),e._d=(e._useUTC?oe:re).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),
e._nextDay&&(e._a[li]=24)}}function we(e){var t,n,i,r,o,s,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=ve(t.GG,e._a[si],le(De(),1,4).year),i=ve(t.W,1),r=ve(t.E,1)):(o=e._locale._week.dow,s=e._locale._week.doy,n=ve(t.gg,e._a[si],le(De(),o,s).year),i=ve(t.w,1),null!=t.d?(r=t.d,o>r&&++i):r=null!=t.e?t.e+o:o),a=me(n,i,r,s,o),e._a[si]=a.year,e._dayOfYear=a.dayOfYear}function _e(t){if(t._f===e.ISO_8601)return void ne(t);t._a=[],l(t).empty=!0;var n,i,r,o,s,a=""+t._i,u=a.length,c=0;for(r=P(t._f,t._locale).match(Fn)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(F(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&l(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),zn[o]?(i?l(t).empty=!1:l(t).unusedTokens.push(o),Y(o,i,t)):t._strict&&!i&&l(t).unusedTokens.push(o);l(t).charsLeftOver=u-c,a.length>0&&l(t).unusedInput.push(a),l(t).bigHour===!0&&t._a[li]<=12&&t._a[li]>0&&(l(t).bigHour=void 0),t._a[li]=xe(t._locale,t._a[li],t._meridiem),be(t),K(t)}function xe(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function Ce(e){var t,n,i,r,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],_e(t),c(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==i||i>o)&&(i=o,n=t));s(e,n||t)}function Se(e){if(!e._d){var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],be(e)}}function ke(e){var t=new f(K(Te(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Te(e){var t=e._i,r=e._f;return e._locale=e._locale||S(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new f(K(t)):(n(r)?Ce(e):r?_e(e):i(t)?e._d=t:Me(e),e))}function Me(t){var o=t._i;void 0===o?t._d=new Date:i(o)?t._d=new Date(+o):"string"==typeof o?ie(t):n(o)?(t._a=r(o.slice(0),function(e){return parseInt(e,10)}),be(t)):"object"==typeof o?Se(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Ee(e,t,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,ke(o)}function De(e,t,n,i){return Ee(e,t,n,i,!1)}function Oe(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return De();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function Ae(){var e=[].slice.call(arguments,0);return Oe("isBefore",e)}function Re(){var e=[].slice.call(arguments,0);return Oe("isAfter",e)}function je(e){var t=M(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Ne(e){return e instanceof je}function Le(e,t){j(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)})}function qe(e){var t=(e||"").match(ti)||[],n=t[t.length-1]||[],i=(n+"").match(Si)||["-",0,0],r=+(60*i[1])+g(i[2]);return"+"===i[0]?r:-r}function Pe(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(p(t)||i(t)?+t:+De(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):De(t).local()}function Ie(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ve(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=qe(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Ie(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?tt(this,Xe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ie(this)}function Fe(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function He(e){return this.utcOffset(0,e)}function Be(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),"m")),this}function ze(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(qe(this._i)),this}function Ye(e){return e=e?De(e).utcOffset():0,(this.utcOffset()-e)%60===0}function $e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=Te(e),e._a){var t=e._isUTC?a(e._a):De(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ue(){return!this._isUTC}function Ge(){return this._isUTC}function Je(){return this._isUTC&&0===this._offset}function Xe(e,t){var n,i,r,s=e,a=null;return Ne(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(a=ki.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:g(a[ui])*n,h:g(a[li])*n,m:g(a[ci])*n,s:g(a[di])*n,ms:g(a[hi])*n}):(a=Ti.exec(e))?(n="-"===a[1]?-1:1,s={y:Ze(a[2],n),M:Ze(a[3],n),d:Ze(a[4],n),h:Ze(a[5],n),m:Ze(a[6],n),s:Ze(a[7],n),w:Ze(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=Qe(De(s.from),De(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new je(s),Ne(e)&&o(e,"_locale")&&(i._locale=e._locale),i}function Ze(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ke(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qe(e,t){var n;return t=Pe(t,e),e.isBefore(t)?n=Ke(e,t):(n=Ke(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function et(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(te(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Xe(n,i),tt(this,r,e),this}}function tt(t,n,i,r){var o=n._milliseconds,s=n._days,a=n._months;r=null==r?!0:r,o&&t._d.setTime(+t._d+o*i),s&&O(t,"Date",D(t,"Date")+s*i),a&&J(t,D(t,"Month")+a*i),r&&e.updateOffset(t,s||a)}function nt(e,t){var n=e||De(),i=Pe(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,De(n)))}function it(){return new f(this)}function rt(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:De(e),+this>+e):(n=p(e)?+e:+De(e),n<+this.clone().startOf(t))}function ot(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:De(e),+e>+this):(n=p(e)?+e:+De(e),+this.clone().endOf(t)<n)}function st(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function at(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=p(e)?e:De(e),+this===+e):(n=+De(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ut(e,t,n){var i,r,o=Pe(e,this),s=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(r=lt(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?r:m(r)}function lt(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function ct(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ht(t){var n=q(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ft(e,t){return this.isValid()?Xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.from(De(),e)}function mt(e,t){return this.isValid()?Xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.to(De(),e)}function vt(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function yt(){return this._locale}function bt(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wt(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function _t(){return+this._d-6e4*(this._offset||0)}function xt(){return Math.floor(+this/1e3)}function Ct(){return this._offset?new Date(+this):this._d}function St(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tt(){return c(this)}function Mt(){return s({},l(this))}function Et(){return l(this).overflow}function Dt(e,t){j(0,[e,e.length],0,t)}function Ot(e,t,n){return le(De([e,11,31+t-n]),t,n).week}function At(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Rt(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")}function jt(){return Ot(this.year(),1,4)}function Nt(){var e=this.localeData()._week;return Ot(this.year(),e.dow,e.doy)}function Lt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function qt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pt(e){return this._weekdays[e.day()]}function It(e){return this._weekdaysShort[e.day()]}function Vt(e){return this._weekdaysMin[e.day()]}function Ft(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=De([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ht(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=qt(e,this.localeData()),this.add(e-t,"d")):t}function Bt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Yt(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $t(e,t){return t._meridiemParse}function Wt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ut(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Gt(e,t){t[hi]=g(1e3*("0."+e))}function Jt(){return this._isUTC?"UTC":""}function Xt(){return this._isUTC?"Coordinated Universal Time":""}function Zt(e){return De(1e3*e)}function Kt(){return De.apply(null,arguments).parseZone()}function Qt(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function en(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function tn(){return this._invalidDate}function nn(e){return this._ordinal.replace("%d",e)}function rn(e){return e}function on(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function sn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function an(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(e,t,n,i){var r=S(),o=a().set(i,t);return r[n](o,e)}function ln(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return un(e,t,n,r);var o,s=[];for(o=0;i>o;o++)s[o]=un(e,o,n,r);return s}function cn(e,t){return ln(e,t,"months",12,"month")}function dn(e,t){return ln(e,t,"monthsShort",12,"month")}function hn(e,t){return ln(e,t,"weekdays",7,"day")}function fn(e,t){return ln(e,t,"weekdaysShort",7,"day")}function pn(e,t){return ln(e,t,"weekdaysMin",7,"day")}function mn(){var e=this._data;return this._milliseconds=Ji(this._milliseconds),this._days=Ji(this._days),this._months=Ji(this._months),e.milliseconds=Ji(e.milliseconds),e.seconds=Ji(e.seconds),e.minutes=Ji(e.minutes),e.hours=Ji(e.hours),e.months=Ji(e.months),e.years=Ji(e.years),this}function gn(e,t,n,i){var r=Xe(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function vn(e,t){return gn(this,e,t,1)}function yn(e,t){return gn(this,e,t,-1)}function bn(e){return 0>e?Math.floor(e):Math.ceil(e)}function wn(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*bn(xn(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=m(o/1e3),u.seconds=e%60,t=m(e/60),u.minutes=t%60,n=m(t/60),u.hours=n%24,s+=m(n/24),r=m(_n(s)),a+=r,s-=bn(xn(r)),i=m(a/12),a%=12,u.days=s,u.months=a,u.years=i,this}function _n(e){return 4800*e/146097}function xn(e){return 146097*e/4800}function Cn(e){var t,n,i=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+_n(t),"month"===e?n:n/12;switch(t=this._days+Math.round(xn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Sn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function kn(e){return function(){return this.as(e)}}function Tn(e){return e=T(e),this[e+"s"]()}function Mn(e){return function(){return this._data[e]}}function En(){return m(this.days()/7)}function Dn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function On(e,t,n){var i=Xe(e).abs(),r=dr(i.as("s")),o=dr(i.as("m")),s=dr(i.as("h")),a=dr(i.as("d")),u=dr(i.as("M")),l=dr(i.as("y")),c=r<hr.s&&["s",r]||1===o&&["m"]||o<hr.m&&["mm",o]||1===s&&["h"]||s<hr.h&&["hh",s]||1===a&&["d"]||a<hr.d&&["dd",a]||1===u&&["M"]||u<hr.M&&["MM",u]||1===l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Dn.apply(null,c)}function An(e,t){return void 0===hr[e]?!1:void 0===t?hr[e]:(hr[e]=t,!0)}function Rn(e){var t=this.localeData(),n=On(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function jn(){var e,t,n,i=fr(this._milliseconds)/1e3,r=fr(this._days),o=fr(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(o/12),o%=12;var s=n,a=o,u=r,l=t,c=e,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Nn,Ln,qn=e.momentProperties=[],Pn=!1,In={},Vn={},Fn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bn={},zn={},Yn=/\d/,$n=/\d\d/,Wn=/\d{3}/,Un=/\d{4}/,Gn=/[+-]?\d{6}/,Jn=/\d\d?/,Xn=/\d{1,3}/,Zn=/\d{1,4}/,Kn=/[+-]?\d{1,6}/,Qn=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},oi={},si=0,ai=1,ui=2,li=3,ci=4,di=5,hi=6;j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),V("M",Jn),V("MM",Jn,$n),V("MMM",ii),V("MMMM",ii),B(["M","MM"],function(e,t){t[ai]=g(e)-1}),B(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ai]=r:l(n).invalidMonth=e});var fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ee("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),k("year","y"),V("Y",ei),V("YY",Jn,$n),V("YYYY",Zn,Un),V("YYYYY",Kn,Gn),V("YYYYYY",Kn,Gn),B(["YYYYY","YYYYYY"],si),B("YYYY",function(t,n){n[si]=2===t.length?e.parseTwoDigitYear(t):g(t)}),B("YY",function(t,n){n[si]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var wi=E("FullYear",!1);j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),V("w",Jn),V("ww",Jn,$n),V("W",Jn),V("WW",Jn,$n),z(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var _i={dow:0,doy:6};j("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),V("DDD",Xn),V("DDDD",Wn),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var xi=ee("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=De.apply(null,arguments);return this>e?this:e}),Ci=ee("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=De.apply(null,arguments);return e>this?this:e});Le("Z",":"),Le("ZZ",""),V("Z",ti),V("ZZ",ti),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qe(e)});var Si=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var ki=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ti=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xe.fn=je.prototype;var Mi=et(1,"add"),Ei=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Di=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dt("gggg","weekYear"),Dt("ggggg","weekYear"),Dt("GGGG","isoWeekYear"),Dt("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),V("G",ei),V("g",ei),V("GG",Jn,$n),V("gg",Jn,$n),V("GGGG",Zn,Un),V("gggg",Zn,Un),V("GGGGG",Kn,Gn),V("ggggg",Kn,Gn),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),z(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),j("Q",0,0,"quarter"),k("quarter","Q"),V("Q",Yn),B("Q",function(e,t){t[ai]=3*(g(e)-1)}),j("D",["DD",2],"Do","date"),k("date","D"),V("D",Jn),V("DD",Jn,$n),V("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),B(["D","DD"],ui),B("Do",function(e,t){t[ui]=g(e.match(Jn)[0],10)});var Oi=E("Date",!0);j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),V("d",Jn),V("e",Jn),V("E",Jn),V("dd",ii),V("ddd",ii),V("dddd",ii),z(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:l(n).invalidWeekday=e}),z(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Ai="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ri="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ji="Su_Mo_Tu_We_Th_Fr_Sa".split("_");j("H",["HH",2],0,"hour"),j("h",["hh",2],0,function(){return this.hours()%12||12}),Yt("a",!0),Yt("A",!1),k("hour","h"),V("a",$t),V("A",$t),V("H",Jn),V("h",Jn),V("HH",Jn,$n),V("hh",Jn,$n),B(["H","HH"],li),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[li]=g(e),l(n).bigHour=!0});var Ni=/[ap]\.?m?\.?/i,Li=E("Hours",!0);j("m",["mm",2],0,"minute"),k("minute","m"),V("m",Jn),V("mm",Jn,$n),B(["m","mm"],ci);var qi=E("Minutes",!1);j("s",["ss",2],0,"second"),k("second","s"),V("s",Jn),V("ss",Jn,$n),B(["s","ss"],di);var Pi=E("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),V("S",Xn,Yn),V("SS",Xn,$n),V("SSS",Xn,Wn);var Ii;for(Ii="SSSS";Ii.length<=9;Ii+="S")V(Ii,Qn);for(Ii="S";Ii.length<=9;Ii+="S")B(Ii,Gt);var Vi=E("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var Fi=f.prototype;Fi.add=Mi,Fi.calendar=nt,Fi.clone=it,Fi.diff=ut,Fi.endOf=wt,Fi.format=ht,Fi.from=ft,Fi.fromNow=pt,Fi.to=mt,Fi.toNow=gt,Fi.get=A,Fi.invalidAt=Et,Fi.isAfter=rt,Fi.isBefore=ot,Fi.isBetween=st,Fi.isSame=at,Fi.isValid=Tt,Fi.lang=Di,Fi.locale=vt,Fi.localeData=yt,Fi.max=Ci,Fi.min=xi,Fi.parsingFlags=Mt,Fi.set=A,Fi.startOf=bt,Fi.subtract=Ei,Fi.toArray=St,Fi.toObject=kt,Fi.toDate=Ct,Fi.toISOString=dt,Fi.toJSON=dt,Fi.toString=ct,Fi.unix=xt,Fi.valueOf=_t,Fi.year=wi,Fi.isLeapYear=ue,Fi.weekYear=At,Fi.isoWeekYear=Rt,Fi.quarter=Fi.quarters=Lt,Fi.month=X,Fi.daysInMonth=Z,Fi.week=Fi.weeks=fe,Fi.isoWeek=Fi.isoWeeks=pe,Fi.weeksInYear=Nt,Fi.isoWeeksInYear=jt,Fi.date=Oi,Fi.day=Fi.days=Ht,Fi.weekday=Bt,Fi.isoWeekday=zt,Fi.dayOfYear=ge,Fi.hour=Fi.hours=Li,Fi.minute=Fi.minutes=qi,Fi.second=Fi.seconds=Pi,Fi.millisecond=Fi.milliseconds=Vi,Fi.utcOffset=Ve,Fi.utc=He,Fi.local=Be,Fi.parseZone=ze,Fi.hasAlignedHourOffset=Ye,Fi.isDST=$e,Fi.isDSTShifted=We,Fi.isLocal=Ue,Fi.isUtcOffset=Ge,Fi.isUtc=Je,Fi.isUTC=Je,Fi.zoneAbbr=Jt,Fi.zoneName=Xt,Fi.dates=ee("dates accessor is deprecated. Use date instead.",Oi),Fi.months=ee("months accessor is deprecated. Use month instead",X),Fi.years=ee("years accessor is deprecated. Use year instead",wi),Fi.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Fe);var Hi=Fi,Bi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Yi="Invalid date",$i="%d",Wi=/\d{1,2}/,Ui={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gi=y.prototype;Gi._calendar=Bi,Gi.calendar=Qt,Gi._longDateFormat=zi,Gi.longDateFormat=en,Gi._invalidDate=Yi,Gi.invalidDate=tn,Gi._ordinal=$i,Gi.ordinal=nn,Gi._ordinalParse=Wi,Gi.preparse=rn,Gi.postformat=rn,Gi._relativeTime=Ui,Gi.relativeTime=on,Gi.pastFuture=sn,Gi.set=an,Gi.months=W,Gi._months=fi,Gi.monthsShort=U,Gi._monthsShort=pi,Gi.monthsParse=G,Gi.week=ce,Gi._week=_i,Gi.firstDayOfYear=he,Gi.firstDayOfWeek=de,Gi.weekdays=Pt,Gi._weekdays=Ai,Gi.weekdaysMin=Vt,Gi._weekdaysMin=ji,Gi.weekdaysShort=It,Gi._weekdaysShort=Ri,Gi.weekdaysParse=Ft,Gi.isPM=Wt,Gi._meridiemParse=Ni,Gi.meridiem=Ut,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",x),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",S);var Ji=Math.abs,Xi=kn("ms"),Zi=kn("s"),Ki=kn("m"),Qi=kn("h"),er=kn("d"),tr=kn("w"),nr=kn("M"),ir=kn("y"),rr=Mn("milliseconds"),or=Mn("seconds"),sr=Mn("minutes"),ar=Mn("hours"),ur=Mn("days"),lr=Mn("months"),cr=Mn("years"),dr=Math.round,hr={s:45,m:45,h:22,d:26,M:11},fr=Math.abs,pr=je.prototype;pr.abs=mn,pr.add=vn,pr.subtract=yn,pr.as=Cn,pr.asMilliseconds=Xi,pr.asSeconds=Zi,pr.asMinutes=Ki,pr.asHours=Qi,pr.asDays=er,pr.asWeeks=tr,pr.asMonths=nr,pr.asYears=ir,pr.valueOf=Sn,pr._bubble=wn,pr.get=Tn,pr.milliseconds=rr,pr.seconds=or,pr.minutes=sr,pr.hours=ar,pr.days=ur,pr.weeks=En,pr.months=lr,pr.years=cr,pr.humanize=Rn,pr.toISOString=jn,pr.toString=jn,pr.toJSON=jn,pr.locale=vt,pr.localeData=yt,pr.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jn),pr.lang=Di,j("X",0,0,"unix"),j("x",0,0,"valueOf"),V("x",ei),V("X",ni),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",t(De),e.fn=Hi,e.min=Ae,e.max=Re,e.utc=a,e.unix=Zt,e.months=cn,e.isDate=i,e.locale=x,e.invalid=d,e.duration=Xe,e.isMoment=p,e.weekdays=hn,e.parseZone=Kt,e.localeData=S,e.isDuration=Ne,e.monthsShort=dn,e.weekdaysMin=pn,e.defineLocale=C,e.weekdaysShort=fn,e.normalizeUnits=T,e.relativeTimeThreshold=An;var mr=e;return mr}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("../moment")):"function"==typeof define&&define.amd?define("moment-ru",["moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":e+" "+t(r[i],+e)}function i(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function o(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}var s=e.defineLocale("ru",{months:i,monthsShort:r,weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}});return s}),function(e){define("semantic-ui-transition",["jquery"],function(){return function(){return function(e,t,n,i){e.fn.transition=function(){var r,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),h="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(t){var f,p,m,g,v,y,b,w,_,x=e(this),C=this;_={initialize:function(){f=_.get.settings.apply(C,l),g=f.className,m=f.error,v=f.metadata,w="."+f.namespace,b="module-"+f.namespace,p=x.data(b)||_,y=_.get.animationEndEvent(),h&&(h=_.invoke(c)),h===!1&&(_.verbose("Converted arguments into settings object",f),f.interval?_.delay(f.animate):_.animate(),_.instantiate())},instantiate:function(){_.verbose("Storing instance of module",_),p=_,x.data(b,p)},destroy:function(){_.verbose("Destroying previous module for",C),x.removeData(b)},refresh:function(){_.verbose("Refreshing display type on next animation"),delete _.displayType},forceRepaint:function(){_.verbose("Forcing element repaint");var e=x.parent(),t=x.next();0===t.length?x.detach().appendTo(e):x.detach().insertBefore(t)},repaint:function(){_.verbose("Repainting element");C.offsetWidth},delay:function(e){var n,r,s=_.get.animationDirection();s||(s=_.can.transition()?_.get.direction():"static"),e=e!==i?e:f.interval,n="auto"==f.reverse&&s==g.outward,r=n||1==f.reverse?(o.length-t)*f.interval:t*f.interval,_.debug("Delaying animation by",r),setTimeout(_.animate,r)},animate:function(e){if(f=e||f,!_.is.supported())return _.error(m.support),!1;if(_.debug("Preparing animation",f.animation),_.is.animating()){if(f.queue)return!f.allowRepeats&&_.has.direction()&&_.is.occurring()&&_.queuing!==!0?_.debug("Animation is currently occurring, preventing queueing same animation",f.animation):_.queue(f.animation),!1;if(!f.allowRepeats&&_.is.occurring())return _.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;_.debug("New animation started, completing previous early",f.animation),p.complete()}_.can.animate()?_.set.animating(f.animation):_.error(m.noAnimation,f.animation,C)},reset:function(){_.debug("Resetting animation to beginning conditions"),_.remove.animationCallbacks(),_.restore.conditions(),_.remove.animating()},queue:function(e){_.debug("Queueing animation of",e),_.queuing=!0,x.one(y+".queue"+w,function(){_.queuing=!1,_.repaint(),_.animate.apply(this,f)})},complete:function(e){_.debug("Animation complete",f.animation),_.remove.completeCallback(),_.remove.failSafe(),_.is.looping()||(_.is.outward()?(_.verbose("Animation is outward, hiding element"),_.restore.conditions(),_.hide()):_.is.inward()?(_.verbose("Animation is outward, showing element"),_.restore.conditions(),_.show()):(_.verbose("Static animation completed"),_.restore.conditions(),f.onComplete.call(C)))},force:{visible:function(){var e=x.attr("style"),t=_.get.userStyle(),n=_.get.displayType(),r=t+"display: "+n+" !important;",o=x.css("display"),s=e===i||""===e;o!==n?(_.verbose("Overriding default display to show element",n),x.attr("style",r)):s&&x.removeAttr("style")},hidden:function(){var e=x.attr("style"),t=x.css("display"),n=e===i||""===e;
"none"===t||_.is.hidden()?n&&x.removeAttr("style"):(_.verbose("Overriding default display to hide element"),x.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===g.inward||t===g.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=x.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;_.remove.completeCallback(),e=e||f.animation,t=_.get.animationClass(e),_.save.animation(t),_.force.visible(),_.remove.hidden(),_.remove.direction(),_.start.animation(t)},duration:function(e,t){t=t||f.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(_.verbose("Setting animation duration",t),x.css({"animation-duration":t}))},direction:function(e){e=e||_.get.direction(),e==g.inward?_.set.inward():_.set.outward()},looping:function(){_.debug("Transition set to loop"),x.addClass(g.looping)},hidden:function(){x.addClass(g.transition).addClass(g.hidden)},inward:function(){_.debug("Setting direction to inward"),x.removeClass(g.outward).addClass(g.inward)},outward:function(){_.debug("Setting direction to outward"),x.removeClass(g.inward).addClass(g.outward)},visible:function(){x.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||_.get.animationClass(),_.debug("Starting tween",e),x.addClass(e).one(y+".complete"+w,_.complete),f.useFailSafe&&_.add.failSafe(),_.set.duration(f.duration),f.onStart.call(C)}},save:{animation:function(e){_.cache||(_.cache={}),_.cache.animation=e},displayType:function(e){"none"!==e&&x.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,_.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=_.get.currentAnimation();e&&(x.removeClass(e),_.verbose("Removing animation class",_.cache)),_.remove.duration()}},add:{failSafe:function(){var e=_.get.duration();_.timer=setTimeout(function(){x.triggerHandler(y)},e+f.failSafeDelay),_.verbose("Adding fail safe timer",_.timer)}},remove:{animating:function(){x.removeClass(g.animating)},animationCallbacks:function(){_.remove.queueCallback(),_.remove.completeCallback()},queueCallback:function(){x.off(".queue"+w)},completeCallback:function(){x.off(".complete"+w)},display:function(){x.css("display","")},direction:function(){x.removeClass(g.inward).removeClass(g.outward)},duration:function(){x.css("animation-duration","")},failSafe:function(){_.verbose("Removing fail safe timer",_.timer),_.timer&&clearTimeout(_.timer)},hidden:function(){x.removeClass(g.hidden)},visible:function(){x.removeClass(g.visible)},looping:function(){_.debug("Transitions are no longer looping"),_.is.looping()&&(_.reset(),x.removeClass(g.looping))},transition:function(){x.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=_.can.transition()&&!_.has.direction()?_.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return _.cache&&_.cache.animation!==i?_.cache.animation:!1},currentDirection:function(){return _.is.inward()?g.inward:g.outward},direction:function(){return _.is.hidden()||!_.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),n?n:!1},duration:function(e){return e=e||f.duration,e===!1&&(e=x.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return f.displayType?f.displayType:(x.data(v.displayType)===i&&_.can.transition(!0),x.data(v.displayType))},userStyle:function(e){return e=e||x.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),r={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in r)if(t.style[e]!==i)return r[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in r)if(t.style[e]!==i)return r[e];return!1}},can:{transition:function(t){var n,r,o,s,a,u,l,c=f.animation,d=_.get.transitionExists(c);if(d===i||t){if(_.verbose("Determining whether animation exists"),n=x.attr("class"),r=x.prop("tagName"),o=e("<"+r+" />").addClass(n).insertAfter(x),s=o.addClass(c).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),a=o.addClass(g.inward).css("animationName"),l=o.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),_.verbose("Determining final display state",l),_.save.displayType(l),o.remove(),s!=a)_.debug("Direction exists for animation",c),u=!0;else{if("none"==s||!s)return void _.debug("No animation defined in css",c);_.debug("Static animation found",c,l),u=!1}_.save.transitionExists(c,u)}return d!==i?d:u},animate:function(){return _.can.transition()!==i}},is:{animating:function(){return x.hasClass(g.animating)},inward:function(){return x.hasClass(g.inward)},outward:function(){return x.hasClass(g.outward)},looping:function(){return x.hasClass(g.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),x.filter(e).length>0},visible:function(){return x.is(":visible")},hidden:function(){return"hidden"===x.css("visibility")},supported:function(){return y!==!1}},hide:function(){_.verbose("Hiding element"),_.is.animating()&&_.reset(),C.blur(),_.remove.display(),_.remove.visible(),_.set.hidden(),_.force.hidden(),f.onHide.call(C),f.onComplete.call(C)},show:function(e){_.verbose("Showing element",e),_.remove.hidden(),_.set.visible(),_.force.visible(),f.onShow.call(C),f.onComplete.call(C)},toggle:function(){_.is.visible()?_.hide():_.show()},stop:function(){_.debug("Stopping current animation"),x.triggerHandler(y)},stopAll:function(){_.debug("Stopping all animation"),_.remove.queueCallback(),x.triggerHandler(y)},clear:{queue:function(){_.debug("Clearing animation queue"),_.remove.queueCallback()}},enable:function(){_.verbose("Starting animation"),x.removeClass(g.disabled)},disable:function(){_.debug("Stopping animation"),x.addClass(g.disabled)},setting:function(t,n){if(_.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===i)return _[t];_[t]=n}},debug:function(){f.debug&&(f.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,f.name+":"),_.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),_.verbose.apply(console,arguments)))},error:function(){_.error=Function.prototype.bind.call(console.error,console,f.name+":"),_.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(_.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,l=p;return n=n||d,o=C||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var o=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=s)l=l[o];else{if(l[o]!==i)return a=l[o],!1;if(!e.isPlainObject(l[r])||n==s)return l[r]!==i?(a=l[r],!1):!1;l=l[r]}})),e.isFunction(a)?u=a.apply(o,n):a!==i&&(u=a),e.isArray(r)?r.push(u):r!==i?r=[r,u]:u!==i&&(r=u),a!==i?a:!1}},_.initialize()}),r!==i?r:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),e.$=$}.apply(e,arguments)})}(this),function(e){define("semantic-ui-dropown",["jquery"],function(){return function(){return function(e,t,n,i){e.fn.dropdown=function(r){var o,s=e(this),a=e(n),u=s.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),d=[],h=arguments[0],f="string"==typeof h,p=[].slice.call(arguments,1);return s.each(function(m){var g,v,y,b,w,_,x,C=e.isPlainObject(r)?e.extend(!0,{},e.fn.dropdown.settings,r):e.extend({},e.fn.dropdown.settings),S=C.className,k=C.message,T=C.fields,M=C.keys,E=C.metadata,D=C.namespace,O=C.regExp,A=C.selector,R=C.error,j=C.templates,N="."+D,L="module-"+D,q=e(this),P=e(C.context),I=q.find(A.text),V=q.find(A.search),F=q.find(A.input),H=q.find(A.icon),B=q.prev().find(A.text).length>0?q.prev().find(A.text):q.prev(),z=q.children(A.menu),Y=z.find(A.item),$=!1,W=!1,U=!1,G=this,J=q.data(L);x={initialize:function(){x.debug("Initializing dropdown",C),x.is.alreadySetup()?x.setup.reference():(x.setup.layout(),x.refreshData(),x.save.defaults(),x.restore.selected(),x.create.id(),x.bind.events(),x.observeChanges(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of dropdown",x),J=x,q.data(L,x)},destroy:function(){x.verbose("Destroying previous dropdown",q),x.remove.tabbable(),q.off(N).removeData(L),z.off(N),a.off(y),w&&w.disconnect(),_&&_.disconnect()},observeChanges:function(){"MutationObserver"in t&&(w=new MutationObserver(function(e){x.debug("<select> modified, recreating menu"),x.setup.select()}),_=new MutationObserver(function(e){x.debug("Menu modified, updating selector cache"),x.refresh()}),x.has.input()&&w.observe(F[0],{childList:!0,subtree:!0}),x.has.menu()&&_.observe(z[0],{childList:!0,subtree:!0}),x.debug("Setting up mutation observer",w,_))},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),y="."+b,x.verbose("Creating unique id for element",b)},userChoice:function(t){var n,r,o;return(t=t||x.get.userValues())?(t=e.isArray(t)?t:[t],e.each(t,function(t,s){x.get.item(s)===!1&&(o=C.templates.addition(x.add.variables(k.addResult,s)),r=e("<div />").html(o).attr("data-"+E.value,s).attr("data-"+E.text,s).addClass(S.addition).addClass(S.item),n=n===i?r:n.add(r),x.verbose("Creating user choices for value",s,r))}),n):!1},userLabels:function(t){var n=x.get.userValues();n&&(x.debug("Adding user labels",n),e.each(n,function(e,t){x.verbose("Adding custom user value"),x.add.label(t,t)}))},menu:function(){z=e("<div />").addClass(S.menu).appendTo(q)}},search:function(e){e=e!==i?e:x.get.query(),x.verbose("Searching for query",e),x.filter(e)},select:{firstUnfiltered:function(){x.verbose("Selecting first non-filtered element"),x.remove.selectedItem(),Y.not(A.unselectable).eq(0).addClass(S.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(A.item).not(A.unselectable).eq(0),n=e.prevAll(A.item).not(A.unselectable).eq(0),i=t.length>0;i?(x.verbose("Moving selection to",t),t.addClass(S.selected)):(x.verbose("Moving selection to",n),n.addClass(S.selected))}},setup:{api:function(){var e={debug:C.debug,on:!1};x.verbose("First request, initializing API"),q.api(e)},layout:function(){q.is("select")&&(x.setup.select(),x.setup.returnedObject()),x.has.menu()||x.create.menu(),x.is.search()&&!x.has.search()&&(x.verbose("Adding search input"),V=e("<input />").addClass(S.search).prop("autocomplete","off").insertBefore(I)),C.allowTab&&x.set.tabbable()},select:function(){var t=x.get.selectValues();x.debug("Dropdown initialized on a select",t),q.is("select")&&(F=q),F.parent(A.dropdown).length>0?(x.debug("UI dropdown already exists. Creating dropdown menu only"),q=F.closest(A.dropdown),x.has.menu()||x.create.menu(),z=q.children(A.menu),x.setup.menu(t)):(x.debug("Creating entire dropdown from select"),q=e("<div />").attr("class",F.attr("class")).addClass(S.selection).addClass(S.dropdown).html(j.dropdown(t)).insertBefore(F),F.hasClass(S.multiple)&&F.prop("multiple")===!1&&(x.error(R.missingMultiple),F.prop("multiple",!0)),F.is("[multiple]")&&x.set.multiple(),F.prop("disabled")&&(x.debug("Disabling dropdown"),q.addClass(S.disabled)),F.removeAttr("class").detach().prependTo(q)),x.refresh()},menu:function(e){z.html(j.menu(e,T)),Y=z.find(A.item)},reference:function(){x.debug("Dropdown behavior was called on select, replacing with closest dropdown"),q=q.parent(A.dropdown),x.refresh(),x.setup.returnedObject(),f&&(J=x,x.invoke(h))},returnedObject:function(){var e=s.slice(0,m),t=s.slice(m+1);s=e.add(q).add(t)}},refresh:function(){x.refreshSelectors(),x.refreshData()},refreshSelectors:function(){x.verbose("Refreshing selector cache"),I=q.find(A.text),V=q.find(A.search),F=q.find(A.input),H=q.find(A.icon),B=q.prev().find(A.text).length>0?q.prev().find(A.text):q.prev(),z=q.children(A.menu),Y=z.find(A.item)},refreshData:function(){x.verbose("Refreshing cached metadata"),Y.removeData(E.text).removeData(E.value),q.removeData(E.defaultText).removeData(E.defaultValue).removeData(E.placeholderText)},toggle:function(){x.verbose("Toggling menu visibility"),x.is.active()?x.hide():x.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},x.can.show()&&!x.is.active()){if(x.debug("Showing dropdown"),x.is.multiple()&&!x.has.search()&&x.is.allFiltered())return!0;!x.has.message()||x.has.maxSelections()||x.has.allResultsFiltered()||x.remove.message(),C.onShow.call(G)!==!1&&x.animate.show(function(){x.can.click()&&x.bind.intent(),x.set.visible(),t.call(G)})}},hide:function(t){t=e.isFunction(t)?t:function(){},x.is.active()&&(x.debug("Hiding dropdown"),C.onHide.call(G)!==!1&&x.animate.hide(function(){x.remove.visible(),t.call(G)}))},hideOthers:function(){x.verbose("Finding other dropdowns to hide"),s.not(q).has(A.menu+"."+S.visible).dropdown("hide")},hideMenu:function(){x.verbose("Hiding menu  instantaneously"),x.remove.active(),x.remove.visible(),z.transition("hide")},hideSubMenus:function(){var e=z.children(A.item).find(A.menu);x.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&x.bind.touchEvents(),x.bind.keyboardEvents(),x.bind.inputEvents(),x.bind.mouseEvents()},touchEvents:function(){x.debug("Touch device detected binding additional touch events"),x.is.searchSelection()||x.is.single()&&q.on("touchstart"+N,x.event.test.toggle),z.on("touchstart"+N,A.item,x.event.item.mouseenter)},keyboardEvents:function(){x.verbose("Binding keyboard events"),q.on("keydown"+N,x.event.keydown),x.has.search()&&q.on(x.get.inputEvent()+N,A.search,x.event.input),x.is.multiple()&&a.on("keydown"+y,x.event.document.keydown)},inputEvents:function(){x.verbose("Binding input change events"),q.on("change"+N,A.input,x.event.change)},mouseEvents:function(){x.verbose("Binding mouse events"),x.is.multiple()&&q.on("click"+N,A.label,x.event.label.click).on("click"+N,A.remove,x.event.remove.click),x.is.searchSelection()?(q.on("mousedown"+N,A.menu,x.event.menu.mousedown).on("mouseup"+N,A.menu,x.event.menu.mouseup).on("click"+N,A.icon,x.event.icon.click).on("click"+N,A.search,x.show).on("focus"+N,A.search,x.event.search.focus).on("blur"+N,A.search,x.event.search.blur).on("click"+N,A.text,x.event.text.focus),x.is.multiple()&&q.on("click"+N,x.event.click)):("click"==C.on?q.on("click"+N,A.icon,x.event.icon.click).on("click"+N,x.event.test.toggle):"hover"==C.on?q.on("mouseenter"+N,x.delay.show).on("mouseleave"+N,x.delay.hide):q.on(C.on+N,x.toggle),q.on("mousedown"+N,x.event.mousedown).on("mouseup"+N,x.event.mouseup).on("focus"+N,x.event.focus).on("blur"+N,x.event.blur)),z.on("mouseenter"+N,A.item,x.event.item.mouseenter).on("mouseleave"+N,A.item,x.event.item.mouseleave).on("click"+N,A.item,x.event.item.click)},intent:function(){x.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+y,x.event.test.touch).on("touchmove"+y,x.event.test.touch),a.on("click"+y,x.event.test.hide)}},unbind:{intent:function(){x.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+y).off("touchmove"+y),a.off("click"+y)}},filter:function(e){var t=e!==i?e:x.get.query(),n=function(){x.is.multiple()&&x.filterActive(),x.select.firstUnfiltered(),x.has.allResultsFiltered()?C.onNoResults.call(G,t)?C.allowAdditions||(x.verbose("All items filtered, showing message",t),x.add.message(k.noResults)):(x.verbose("All items filtered, hiding dropdown",t),x.hideMenu()):x.remove.message(),C.allowAdditions&&x.add.userSuggestion(e),x.is.searchSelection()&&x.can.show()&&x.is.focusedOnSearch()&&x.show()};C.useLabels&&x.has.maxSelections()||(C.apiSettings?x.can.useAPI()?x.queryRemote(t,function(){n()}):x.error(R.noAPI):(x.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,throttle:C.throttle,urlData:{query:t},onError:function(){x.add.message(k.serverError),n()},onFailure:function(){x.add.message(k.serverError),n()},onSuccess:function(e){x.remove.message(),x.setup.menu({values:e[T.remoteValues]}),n()}};q.api("get request")||x.setup.api(),i=e.extend(!0,{},i,C.apiSettings),q.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:x.get.query(),r=null,o=x.escape.regExp(n),s=new RegExp("^"+o,"igm");x.has.query()&&(r=[],x.verbose("Searching for matching values",n),Y.each(function(){var t,i,o=e(this);if("both"==C.match||"text"==C.match){if(t=String(x.get.choiceText(o,!1)),-1!==t.search(s))return r.push(this),!0;if(C.fullTextSearch&&x.fuzzySearch(n,t))return r.push(this),!0}if("both"==C.match||"value"==C.match){if(i=String(x.get.choiceValue(o,t)),-1!==i.search(s))return r.push(this),!0;if(C.fullTextSearch&&x.fuzzySearch(n,i))return r.push(this),!0}})),x.debug("Showing only matched items",n),x.remove.filteredItem(),r&&Y.not(r).addClass(S.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;i>r;r++){for(var s=e.charCodeAt(r);n>o;)if(t.charCodeAt(o++)===s)continue e;return!1}return!0},filterActive:function(){C.useLabels&&Y.filter("."+S.active).addClass(S.filtered)},focusSearch:function(){x.is.search()&&!x.is.focusedOnSearch()&&V[0].focus()},forceSelection:function(){var e=Y.not(S.filtered).filter("."+S.selected).eq(0),t=Y.not(S.filtered).filter("."+S.active).eq(0),n=e.length>0?e:t,i=n.size()>0;if(x.has.query()){if(i)return x.debug("Forcing partial selection to selected item",n),void x.event.item.click.call(n);x.remove.searchTerm()}x.hide()},event:{change:function(){U||(x.debug("Input changed, updating selection"),x.set.selected())},focus:function(){C.showOnFocus&&!$&&x.is.hidden()&&!v&&x.show()},click:function(t){var n=e(t.target);n.is(q)&&!x.is.focusedOnSearch()&&x.focusSearch()},blur:function(e){v=n.activeElement===this,$||v||(x.remove.activeLabel(),x.hide())},mousedown:function(){$=!0},mouseup:function(){$=!1},search:{focus:function(){$=!0,x.is.multiple()&&x.remove.activeLabel(),C.showOnFocus&&(x.search(),x.show())},blur:function(e){v=n.activeElement===this,W||v?v&&C.forceSelection&&x.forceSelection():x.is.multiple()?(x.remove.activeLabel(),x.hide()):C.forceSelection?x.forceSelection():x.hide()}},icon:{click:function(e){x.toggle(),e.stopPropagation()}},text:{focus:function(e){$=!0,x.focusSearch()}},input:function(e){(x.is.multiple()||x.is.searchSelection())&&x.set.filtered(),clearTimeout(x.timer),x.timer=setTimeout(x.search,C.delay.search)},label:{click:function(t){var n=e(this),i=q.find(A.label),r=i.filter("."+S.active),o=n.nextAll("."+S.active),s=n.prevAll("."+S.active),a=o.length>0?n.nextUntil(o).add(r).add(n):n.prevUntil(s).add(r).add(n);t.shiftKey?(r.removeClass(S.active),a.addClass(S.active)):t.ctrlKey?n.toggleClass(S.active):(r.removeClass(S.active),n.addClass(S.active)),C.onLabelSelect.apply(this,i.filter("."+S.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(S.active)?x.remove.activeLabels():x.remove.activeLabels(t)}},test:{toggle:function(e){var t=x.is.multiple()?x.show:x.toggle;x.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){x.determine.eventOnElement(e,function(){"touchstart"==e.type?x.timer=setTimeout(function(){x.hide()},C.delay.touch):"touchmove"==e.type&&clearTimeout(x.timer)}),e.stopPropagation()},hide:function(e){x.determine.eventInModule(e,x.hide)}},menu:{mousedown:function(){W=!0},mouseup:function(){W=!1}},item:{mouseenter:function(t){var n=e(this).children(A.menu),i=e(this).siblings(A.item).children(A.menu);n.length>0&&(clearTimeout(x.itemTimer),x.itemTimer=setTimeout(function(){x.verbose("Showing sub-menu",n),e.each(i,function(){x.animate.hide(!1,e(this))}),x.animate.show(!1,n)},C.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(A.menu);n.length>0&&(clearTimeout(x.itemTimer),x.itemTimer=setTimeout(function(){x.verbose("Hiding sub-menu",n),x.animate.hide(!1,n)},C.delay.hide))},touchend:function(){},click:function(t){var n=e(this),i=e(t?t.target:""),r=n.find(A.menu),o=x.get.choiceText(n),s=x.get.choiceValue(n,o),a=r.length>0,u=r.find(i).length>0;u||a&&!C.allowCategorySelection||(C.useLabels||(x.remove.filteredItem(),x.remove.searchTerm(),x.set.scrollPosition(n)),x.determine.selectAction.call(this,o,s))}},document:{keydown:function(e){var t=e.which,n=x.is.inObject(t,M);if(n){var i=q.find(A.label),r=i.filter("."+S.active),o=(r.data(E.value),i.index(r)),s=i.length,a=r.length>0,u=r.length>1,l=0===o,c=o+1==s,d=x.is.searchSelection(),h=x.is.focusedOnSearch(),f=x.is.focused(),p=h&&0===x.get.caretPosition();if(d&&!a&&!h)return;t==M.leftArrow?!f&&!p||a?a&&(e.shiftKey?x.verbose("Adding previous label to selection"):(x.verbose("Selecting previous label"),i.removeClass(S.active)),l&&!u?r.addClass(S.active):r.prev(A.siblingLabel).addClass(S.active).end(),e.preventDefault()):(x.verbose("Selecting previous label"),i.last().addClass(S.active)):t==M.rightArrow?(f&&!a&&i.first().addClass(S.active),a&&(e.shiftKey?x.verbose("Adding next label to selection"):(x.verbose("Selecting next label"),i.removeClass(S.active)),c?d?h?i.removeClass(S.active):x.focusSearch():u?r.next(A.siblingLabel).addClass(S.active):r.addClass(S.active):r.next(A.siblingLabel).addClass(S.active),e.preventDefault())):t==M.deleteKey||t==M.backspace?a?(x.verbose("Removing active labels"),c&&d&&!h&&x.focusSearch(),r.last().next(A.siblingLabel).addClass(S.active),x.remove.activeLabels(r),e.preventDefault()):p&&!a&&t==M.backspace&&(x.verbose("Removing last label on input backspace"),r=i.last().addClass(S.active),x.remove.activeLabels(r)):r.removeClass(S.active)}}},keydown:function(e){var t=e.which,n=x.is.inObject(t,M);if(n){var i,r,o=Y.not(A.unselectable).filter("."+S.selected).eq(0),s=z.children("."+S.active).eq(0),a=o.length>0?o:s,u=a.length>0?a.siblings(":not(."+S.filtered+")").andSelf():z.children(":not(."+S.filtered+")"),l=a.children(A.menu),c=a.closest(A.menu),d=c.hasClass(S.visible)||c.hasClass(S.animating)||c.parent(A.menu).length>0,h=l.length>0,f=a.length>0,p=a.not(A.unselectable).length>0,m=t==M.delimiter&&C.allowAdditions&&x.is.multiple();if(x.is.visible()){if((t==M.enter||m)&&(t==M.enter&&f&&h&&!C.allowCategorySelection?(x.verbose("Pressed enter on unselectable category, opening sub menu"),t=M.rightArrow):p&&(x.verbose("Selecting item from keyboard shortcut",a),x.event.item.click.call(a,e),x.is.searchSelection()&&x.remove.searchTerm()),e.preventDefault()),t==M.leftArrow&&(r=c[0]!==z[0],r&&(x.verbose("Left key pressed, closing sub-menu"),x.animate.hide(!1,c),a.removeClass(S.selected),c.closest(A.item).addClass(S.selected),e.preventDefault())),t==M.rightArrow&&h&&(x.verbose("Right key pressed, opening sub-menu"),x.animate.show(!1,l),a.removeClass(S.selected),l.find(A.item).eq(0).addClass(S.selected),e.preventDefault()),t==M.upArrow){if(i=f&&d?a.prevAll(A.item+":not("+A.unselectable+")").eq(0):Y.eq(0),u.index(i)<0)return x.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();x.verbose("Up key pressed, changing active item"),a.removeClass(S.selected),i.addClass(S.selected),x.set.scrollPosition(i),e.preventDefault()}if(t==M.downArrow){if(i=f&&d?i=a.nextAll(A.item+":not("+A.unselectable+")").eq(0):Y.eq(0),0===i.length)return x.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();x.verbose("Down key pressed, changing active item"),Y.removeClass(S.selected),i.addClass(S.selected),x.set.scrollPosition(i),e.preventDefault()}t==M.pageUp&&(x.scrollPage("up"),e.preventDefault()),t==M.pageDown&&(x.scrollPage("down"),e.preventDefault()),t==M.escape&&(x.verbose("Escape key pressed, closing dropdown"),x.hide())}else m&&e.preventDefault(),t==M.downArrow&&(x.verbose("Down key pressed, showing dropdown"),x.show(),e.preventDefault())}else x.is.selection()&&!x.is.search()&&x.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=F[0];t&&(x.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){x.verbose("Determining action",C.action),e.isFunction(x.action[C.action])?(x.verbose("Triggering preset action",C.action,t,n),x.action[C.action].call(this,t,n)):e.isFunction(C.action)?(x.verbose("Triggering user action",C.action,t,n),C.action.call(this,t,n)):x.error(R.action,C.action)},eventInModule:function(t,i){var r=e(t.target),o=r.closest(n.documentElement).length>0,s=r.closest(q).length>0;return i=e.isFunction(i)?i:function(){},o&&!s?(x.verbose("Triggering event",i),i(),!0):(x.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var i=e(t.target),r=i.closest(A.siblingLabel),o=0===q.find(r).length,s=0===i.closest(z).length;return n=e.isFunction(n)?n:function(){},o&&s?(x.verbose("Triggering event",n),n(),!0):(x.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==i?n:t,x.can.activate(e(this))){if(x.set.selected(n,e(this)),x.is.multiple()&&!x.is.allFiltered())return;x.hideAndClear()}},select:function(e,t){x.action.activate.call(this)},combo:function(t,n){n=n!==i?n:t,x.set.selected(n,e(this)),x.hideAndClear()},hide:function(e,t){x.set.value(t),x.hideAndClear()}},get:{id:function(){return b},defaultText:function(){return q.data(E.defaultText)},defaultValue:function(){return q.data(E.defaultValue)},placeholderText:function(){return q.data(E.placeholderText)||""},text:function(){return I.text()},query:function(){return e.trim(V.val())},searchWidth:function(e){return e*C.glyphWidth+"em"},selectionCount:function(){var t,n=x.get.values();return t=x.is.multiple()?e.isArray(n)?n.length:0:""!==x.get.value()?1:0},transition:function(e){return"auto"==C.transition?x.is.upward(e)?"slide up":"slide down":C.transition},userValues:function(){var t=x.get.values();return t?(t=e.isArray(t)?t:[t],e.grep(t,function(e){return x.get.item(e)===!1})):!1},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=V.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=F.length>0?F.val():q.data(E.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=x.get.value();return""===e?"":!x.has.selectInput()&&x.is.multiple()?"string"==typeof e?e.split(C.delimiter):"":e},remoteValues:function(){var t=x.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var i=x.read.remoteData(t);x.verbose("Restoring value from session data",i,t),n[t]=i?i:t})),n},choiceText:function(t,n){return n=n!==i?n:C.preserveHTML,t?(t.find(A.menu).length>0&&(x.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(A.menu).remove(),t.find(A.menuIcon).remove()),t.data(E.text)!==i?t.data(E.text):n?e.trim(t.html()):e.trim(t.text())):void 0},choiceValue:function(t,n){return n=n||x.get.choiceText(t),t?t.data(E.value)!==i?String(t.data(E.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n):!1},inputEvent:function(){var e=V[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=[],q.find("option").each(function(){var n=e(this),r=n.html(),o=n.attr("disabled"),s=n.attr("value")!==i?n.attr("value"):r;"auto"===C.placeholder&&""===s?t.placeholder=r:t.values.push({name:r,value:s,disabled:o})}),C.placeholder&&"auto"!==C.placeholder&&(x.debug("Setting placeholder value to",C.placeholder),t.placeholder=C.placeholder),C.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),x.debug("Retrieved and sorted values from select",t)):x.debug("Retreived values from select",t),t},activeItem:function(){return Y.filter("."+S.active)},selectedItem:function(){var e=Y.not(A.unselectable).filter("."+S.selected);return e.length>0?e:Y.eq(0)},itemWithAdditions:function(e){var t=x.get.item(e),n=x.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var r,o,s=!1;return t=t!==i?t:x.get.values()!==i?x.get.values():x.get.text(),r=o?t.length>0:t!==i&&null!==t,o=x.is.multiple()&&e.isArray(t),n=""===t||0===t?!0:n||!1,r&&Y.each(function(){var r=e(this),a=x.get.choiceText(r),u=x.get.choiceValue(r,a);if(null!==u&&u!==i)if(o)(-1!==e.inArray(String(u),t)||-1!==e.inArray(a,t))&&(s=s?s.add(r):r);else if(n){if(x.verbose("Ambiguous dropdown value using strict type check",r,t),u===t||a===t)return s=r,!0}else if(String(u)==String(t)||a==t)return x.verbose("Found select item by value",u,t),s=r,!0}),s}},check:{maxSelections:function(e){return C.maxSelections?(e=e!==i?e:x.get.selectionCount(),e>=C.maxSelections?(x.debug("Maximum selection count reached"),C.useLabels&&(Y.addClass(S.filtered),x.add.message(k.maxSelections)),!0):(x.verbose("No longer at maximum selection count"),x.remove.message(),x.remove.filteredItem(),x.is.searchSelection()&&x.filterItems(),!1)):!0}},restore:{defaults:function(){x.clear(),x.restore.defaultText(),x.restore.defaultValue()},defaultText:function(){var e=x.get.defaultText(),t=x.get.placeholderText;e===t?(x.debug("Restoring default placeholder text",e),x.set.placeholderText(e)):(x.debug("Restoring default text",e),x.set.text(e))},defaultValue:function(){var e=x.get.defaultValue();e!==i&&(x.debug("Restoring default value",e),""!==e?(x.set.value(e),x.set.selected()):(x.remove.activeItem(),x.remove.selectedItem()))},labels:function(){C.allowAdditions&&(C.useLabels||(x.error(R.labels),C.useLabels=!0),
x.debug("Restoring selected values"),x.create.userLabels()),x.check.maxSelections()},selected:function(){x.restore.values(),x.is.multiple()?(x.debug("Restoring previously selected values and labels"),x.restore.labels()):x.debug("Restoring previously selected values")},values:function(){x.set.initialLoad(),C.apiSettings?C.saveRemoteData?x.restore.remoteValues():x.clearValue():x.set.selected(),x.remove.initialLoad()},remoteValues:function(){var t=x.get.remoteValues();x.debug("Recreating selected from session data",t),t&&(x.is.single()?e.each(t,function(e,t){x.set.text(t)}):e.each(t,function(e,t){x.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void x.error(R.noStorage):(n=sessionStorage.getItem(e),n!==i?n:!1)}},save:{defaults:function(){x.save.defaultText(),x.save.placeholderText(),x.save.defaultValue()},defaultValue:function(){var e=x.get.value();x.verbose("Saving default value as",e),q.data(E.defaultValue,e)},defaultText:function(){var e=x.get.text();x.verbose("Saving default text as",e),q.data(E.defaultText,e)},placeholderText:function(){var e;C.placeholder!==!1&&I.hasClass(S.placeholder)&&(e=x.get.text(),x.verbose("Saving placeholder text as",e),q.data(E.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void x.error(R.noStorage):(x.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){x.is.multiple()?x.remove.labels():(x.remove.activeItem(),x.remove.selectedItem()),x.set.placeholderText(),x.clearValue()},clearValue:function(){x.set.value("")},scrollPage:function(e,t){var n,i,r,o=t||x.get.selectedItem(),s=o.closest(A.menu),a=s.outerHeight(),u=s.scrollTop(),l=Y.eq(0).outerHeight(),c=Math.floor(a/l),d=(s.prop("scrollHeight"),"up"==e?u-l*c:u+l*c),h=Y.not(A.unselectable);r="up"==e?h.index(o)-c:h.index(o)+c,n="up"==e?r>=0:r<h.length,i=n?h.eq(r):"up"==e?h.first():h.last(),i.length>0&&(x.debug("Scrolling page",e,i),o.removeClass(S.selected),i.addClass(S.selected),s.scrollTop(d))},set:{filtered:function(){var e=x.is.multiple(),t=x.is.searchSelection(),n=e&&t,i=t?x.get.query():"",r="string"==typeof i&&i.length>0,o=x.get.searchWidth(i.length),s=""!==i;e&&r&&(x.verbose("Adjusting input width",o,C.glyphWidth),V.css("width",o)),r||n&&s?(x.verbose("Hiding placeholder text"),I.addClass(S.filtered)):(!e||n&&!s)&&(x.verbose("Showing placeholder text"),I.removeClass(S.filtered))},loading:function(){q.addClass(S.loading)},placeholderText:function(e){e=e||x.get.placeholderText(),x.debug("Setting placeholder text",e),x.set.text(e),I.addClass(S.placeholder)},tabbable:function(){x.has.search()?(x.debug("Added tabindex to searchable dropdown"),V.val("").attr("tabindex",0),z.attr("tabindex",-1)):(x.debug("Added tabindex to dropdown"),q.attr("tabindex")===i&&(q.attr("tabindex",0),z.attr("tabindex",-1)))},initialLoad:function(){x.verbose("Setting initial load"),g=!0},activeItem:function(e){C.allowAdditions&&e.filter(A.addition).length>0?e.addClass(S.filtered):e.addClass(S.active)},scrollPosition:function(e,t){var n,r,o,s,a,u,l,c,d,h=5;e=e||x.get.selectedItem(),n=e.closest(A.menu),r=e&&e.length>0,t=t!==i?t:!1,e&&n.length>0&&r&&(s=e.position().top,n.addClass(S.loading),u=n.scrollTop(),a=n.offset().top,s=e.offset().top,o=u-a+s,t||(l=n.height(),d=o+h>u+l,c=u>o-h),x.debug("Scrolling to active item",o),(t||c||d)&&n.scrollTop(o),n.removeClass(S.loading))},text:function(e){"select"!==C.action&&("combo"==C.action?(x.debug("Changing combo button text",e,B),C.preserveHTML?B.html(e):B.text(e)):(e!==x.get.placeholderText()&&I.removeClass(S.placeholder),x.debug("Changing text",e,I),I.removeClass(S.filtered),C.preserveHTML?I.html(e):I.text(e)))},selectedLetter:function(t){var n,i=Y.filter("."+S.selected),r=i.length>0&&x.has.firstLetter(i,t),o=!1;r&&(n=i.nextAll(Y).eq(0),x.has.firstLetter(n,t)&&(o=n)),o||Y.each(function(){return x.has.firstLetter(e(this),t)?(o=e(this),!1):void 0}),o&&(x.verbose("Scrolling to next value with letter",t),x.set.scrollPosition(o),i.removeClass(S.selected),o.addClass(S.selected))},direction:function(e){"auto"==C.direction?x.is.onScreen(e)?x.remove.upward(e):x.set.upward(e):"upward"==C.direction&&x.set.upward(e)},upward:function(e){var t=e||q;t.addClass(S.upward)},value:function(e,t,n){var r=F.length>0,o=(!x.has.value(e),x.get.values()),s=e!==i?String(e):e;if(r){if(s==o&&(x.verbose("Skipping value update already same value",e,o),!x.is.initialLoad()))return;x.is.single()&&x.has.selectInput()&&x.can.extendSelect()&&(x.debug("Adding user option",e),x.add.optionValue(e)),x.debug("Updating input value",e,o),U=!0,F.val(e),C.fireOnInit===!1&&x.is.initialLoad()?x.debug("Input native change event ignored on initial load"):x.trigger.change(),U=!1}else x.verbose("Storing value in metadata",e,F),e!==o&&q.data(E.value,s);C.fireOnInit===!1&&x.is.initialLoad()?x.verbose("No callback on initial load",C.onChange):C.onChange.call(G,e,t,n)},active:function(){q.addClass(S.active)},multiple:function(){q.addClass(S.multiple)},visible:function(){q.addClass(S.visible)},exactly:function(e,t){x.debug("Setting selected to exact values"),x.clear(),x.set.selected(e,t)},selected:function(t,n){var i=x.is.multiple();n=C.allowAdditions?n||x.get.itemWithAdditions(t):n||x.get.item(t),n&&(x.debug("Setting selected menu item to",n),x.is.single()?(x.remove.activeItem(),x.remove.selectedItem()):C.useLabels&&x.remove.selectedItem(),n.each(function(){var t=e(this),r=x.get.choiceText(t),o=x.get.choiceValue(t,r),s=t.hasClass(S.filtered),a=t.hasClass(S.active),u=t.hasClass(S.addition),l=i&&1==n.length;i?!a||u?(C.apiSettings&&C.saveRemoteData&&x.save.remoteData(r,o),C.useLabels?(x.add.value(o,r,t),x.add.label(o,r,l),x.set.activeItem(t),x.filterActive(),x.select.nextAvailable(n)):(x.add.value(o,r,t),x.set.text(x.add.variables(k.count)),x.set.activeItem(t))):s||(x.debug("Selected active value, removing label"),x.remove.selected(o)):(C.apiSettings&&C.saveRemoteData&&x.save.remoteData(r,o),x.set.text(r),x.set.value(o,r,t),t.addClass(S.active).addClass(S.selected))}))}},add:{label:function(t,n,i){var r,o=x.is.searchSelection()?V:I;return r=e("<a />").addClass(S.label).attr("data-value",t).html(j.label(t,n)),r=C.onLabelCreate.call(r,t,n),x.has.label(t)?void x.debug("Label already exists, skipping",t):(C.label.variation&&r.addClass(C.label.variation),void(i===!0?(x.debug("Animating in label",r),r.addClass(S.hidden).insertBefore(o).transition(C.label.transition,C.label.duration)):(x.debug("Adding selection label",r),r.insertBefore(o))))},message:function(t){var n=z.children(A.message),i=C.templates.message(x.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(S.message).appendTo(z)},optionValue:function(t){var n=F.find('option[value="'+t+'"]'),i=n.length>0;i||(w&&(w.disconnect(),x.verbose("Temporarily disconnecting mutation observer",t)),x.is.single()&&(x.verbose("Removing previous user addition"),F.find("option."+S.addition).remove()),e("<option/>").prop("value",t).addClass(S.addition).html(t).appendTo(F),x.verbose("Adding user addition as an <option>",t),w&&w.observe(F[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=z.children(A.addition),i=x.get.item(e),r=i&&i.not(A.addition).length,o=n.length>0;if(!C.useLabels||!x.has.maxSelections()){if(""===e||r)return void n.remove();Y.removeClass(S.selected),o?(t=C.templates.addition(x.add.variables(k.addResult,e)),n.html(t).attr("data-"+E.value,e).attr("data-"+E.text,e).removeClass(S.filtered).addClass(S.selected),x.verbose("Replacing user suggestion with new value",n)):(n=x.create.userChoice(e),n.prependTo(z).addClass(S.selected),x.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e,t){var n,i,r=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),s=-1!==e.search("{term}");return x.verbose("Adding templated variables to message",e),r&&(n=x.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=x.get.selectionCount(),e=e.replace("{maxCount}",C.maxSelections)),s&&(i=t||x.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var r,o=x.get.values();return""===t?void x.debug("Cannot select blank values from multiselect"):(e.isArray(o)?(r=o.concat([t]),r=x.get.uniqueArray(r)):r=[t],x.has.selectInput()?x.can.extendSelect()&&(x.debug("Adding value to select",t,r,F),x.add.optionValue(t)):(r=r.join(C.delimiter),x.debug("Setting hidden input to delimited value",r,F)),C.fireOnInit===!1&&x.is.initialLoad()?x.verbose("Skipping onadd callback on initial load",C.onAdd):C.onAdd.call(G,t,n,i),x.set.value(r,t,n,i),void x.check.maxSelections())}},remove:{active:function(){q.removeClass(S.active)},activeLabel:function(){q.find(A.label).removeClass(S.active)},loading:function(){q.removeClass(S.loading)},initialLoad:function(){g=!1},upward:function(e){var t=e||q;t.removeClass(S.upward)},visible:function(){q.removeClass(S.visible)},activeItem:function(){Y.removeClass(S.active)},filteredItem:function(){C.useLabels&&x.has.maxSelections()||(C.useLabels&&x.is.multiple()?Y.not("."+S.active).removeClass(S.filtered):Y.removeClass(S.filtered))},optionValue:function(e){var t=F.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(S.addition)&&(w&&(w.disconnect(),x.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),x.verbose("Removing user addition as an <option>",e),w&&w.observe(F[0],{childList:!0,subtree:!0}))},message:function(){z.children(A.message).remove()},searchTerm:function(){x.verbose("Cleared search term"),V.val(""),x.set.filtered()},selected:function(t,n){return(n=C.allowAdditions?n||x.get.itemWithAdditions(t):n||x.get.item(t))?void n.each(function(){var t=e(this),n=x.get.choiceText(t),i=x.get.choiceValue(t,n);x.is.multiple()?C.useLabels?(x.remove.value(i,n,t),x.remove.label(i)):(x.remove.value(i,n,t),0===x.get.selectionCount()?x.set.placeholderText():x.set.text(x.add.variables(k.count))):x.remove.value(i,n,t),t.removeClass(S.filtered).removeClass(S.active),C.useLabels&&t.removeClass(S.selected)}):!1},selectedItem:function(){Y.removeClass(S.selected)},value:function(e,t,n){var i,r=x.get.values();x.has.selectInput()?(x.verbose("Input is <select> removing selected option",e),i=x.remove.arrayValue(e,r),x.remove.optionValue(e)):(x.verbose("Removing from delimited values",e),i=x.remove.arrayValue(e,r),i=i.join(C.delimiter)),C.fireOnInit===!1&&x.is.initialLoad()?x.verbose("No callback on initial load",C.onRemove):C.onRemove.call(G,e,t,n),x.set.value(i,t,n),x.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),x.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=q.find(A.label),i=n.filter('[data-value="'+e+'"]');x.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||q.find(A.label).filter("."+S.active),x.verbose("Removing active label selections",e),x.remove.labels(e)},labels:function(t){t=t||q.find(A.label),x.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(E.value),r=n!==i?String(n):n,o=x.is.userValue(r);return C.onLabelRemove.call(t,n)===!1?void x.debug("Label remove callback cancelled removal"):void(o?(x.remove.value(r),x.remove.label(r)):x.remove.selected(r))})},tabbable:function(){x.has.search()?(x.debug("Searchable dropdown initialized"),V.removeAttr("tabindex"),z.removeAttr("tabindex")):(x.debug("Simple selection dropdown initialized"),q.removeAttr("tabindex"),z.removeAttr("tabindex"))}},has:{search:function(){return V.length>0},selectInput:function(){return F.is("select")},firstLetter:function(e,t){var n,i;return e&&0!==e.length&&"string"==typeof t?(n=x.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i):!1},input:function(){return F.length>0},items:function(){return Y.length>0},menu:function(){return z.length>0},message:function(){return 0!==z.children(A.message).length},label:function(e){var t=q.find(A.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return C.maxSelections&&x.get.selectionCount()>=C.maxSelections},allResultsFiltered:function(){return Y.filter(A.unselectable).length===Y.length},query:function(){return""!==x.get.query()},value:function(t){var n=x.get.values(),i=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return i?!0:!1}},is:{active:function(){return q.hasClass(S.active)},alreadySetup:function(){return q.is("select")&&q.parent(A.dropdown).length>0&&0===q.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):z.transition&&z.transition("is animating")},disabled:function(){return q.hasClass(S.disabled)},focused:function(){return n.activeElement===q[0]},focusedOnSearch:function(){return n.activeElement===V[0]},allFiltered:function(){return(x.is.multiple()||x.has.search())&&!x.has.message()&&x.has.allResultsFiltered()},hidden:function(e){return!x.is.visible(e)},initialLoad:function(){return g},onScreen:function(e){var t,n=e||z,i=!0,r={};return n.addClass(S.loading),t={context:{scrollTop:P.scrollTop(),height:P.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},r={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},r.below?(x.verbose("Dropdown can fit in context downward",r),i=!0):r.below||r.above?(x.verbose("Dropdown cannot fit below, opening upward",r),i=!1):(x.verbose("Dropdown cannot fit in either direction, favoring downward",r),i=!0),n.removeClass(S.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){return n==t?(i=!0,!0):void 0}),i},multiple:function(){return q.hasClass(S.multiple)},single:function(){return!x.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return q.hasClass(S.search)},searchSelection:function(){return x.has.search()&&1===V.parent(A.dropdown).length},selection:function(){return q.hasClass(S.selection)},userValue:function(t){return-1!==e.inArray(t,x.get.userValues())},upward:function(e){var t=e||q;return t.hasClass(S.upward)},visible:function(e){return e?e.hasClass(S.visible):z.hasClass(S.visible)}},can:{activate:function(e){return C.useLabels?!0:x.has.maxSelections()?x.has.maxSelections()&&e.hasClass(S.active)?!0:!1:!0},click:function(){return l||"click"==C.on},extendSelect:function(){return C.allowAdditions||C.apiSettings},show:function(){return!x.is.disabled()&&(x.has.items()||x.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var r,o=n||z,s=n?function(){}:function(){x.hideSubMenus(),x.hideOthers(),x.set.active()};t=e.isFunction(t)?t:function(){},x.verbose("Doing menu show animation",o),x.set.direction(n),r=x.get.transition(n),x.is.selection()&&x.set.scrollPosition(x.get.selectedItem(),!0),(x.is.hidden(o)||x.is.animating(o))&&("none"==r?(s(),o.transition("show"),t.call(G)):e.fn.transition!==i&&q.transition("is supported")?o.transition({animation:r+" in",debug:C.debug,verbose:C.verbose,duration:C.duration,queue:!0,onStart:s,onComplete:function(){t.call(G)}}):x.error(R.noTransition,r))},hide:function(t,n){var r=n||z,o=(n?.9*C.duration:C.duration,n?function(){}:function(){x.can.click()&&x.unbind.intent(),x.remove.active()}),s=x.get.transition(n);t=e.isFunction(t)?t:function(){},(x.is.visible(r)||x.is.animating(r))&&(x.verbose("Doing menu hide animation",r),"none"==s?(o(),r.transition("hide"),t.call(G)):e.fn.transition!==i&&q.transition("is supported")?r.transition({animation:s+" out",duration:C.duration,debug:C.debug,verbose:C.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==C.direction&&x.remove.upward(n),t.call(G)}}):x.error(R.transition))}},hideAndClear:function(){x.remove.searchTerm(),x.has.maxSelections()||(x.has.search()?x.hide(function(){x.remove.filteredItem()}):x.hide())},delay:{show:function(){x.verbose("Delaying show event to ensure user intent"),clearTimeout(x.timer),x.timer=setTimeout(x.show,C.delay.show)},hide:function(){x.verbose("Delaying hide event to ensure user intent"),clearTimeout(x.timer),x.timer=setTimeout(x.hide,C.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(O.escape,"\\$&")}},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},debug:function(){C.debug&&(C.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,C.name+":"),x.debug.apply(console,arguments)))},verbose:function(){C.verbose&&C.debug&&(C.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,C.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;C.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:G,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=C.name+":",n=0;c=!1,clearTimeout(x.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,r){var s,a,u,l=J;return n=n||p,r=G||r,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var o=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=s)l=l[o];else{if(l[o]!==i)return a=l[o],!1;if(!e.isPlainObject(l[r])||n==s)return l[r]!==i?(a=l[r],!1):(x.error(R.method,t),!1);l=l[r]}})),e.isFunction(a)?u=a.apply(r,n):a!==i&&(u=a),e.isArray(o)?o.push(u):o!==i?o=[o,u]:u!==i&&(o=u),a}},f?(J===i&&x.initialize(),x.invoke(h)):(J!==i&&J.invoke("destroy"),x.initialize())}),o!==i?o:s},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},r="";return e.each(i,function(e,t){r+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),r},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),e.$=$}.apply(e,arguments)})}(this),function(e){define("semantic-ui-dimmer",["jquery"],function(){return function(){return function(e,t,n,i){e.fn.dimmer=function(t){var r,o=e(this),s=(new Date).getTime(),a=[],u=arguments[0],l="string"==typeof u,c=[].slice.call(arguments,1);return o.each(function(){var d,h,f,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),m=p.selector,g=p.namespace,v=p.className,y=p.error,b="."+g,w="module-"+g,_=o.selector||"",x="ontouchstart"in n.documentElement?"touchstart":"click",C=e(this),S=this,k=C.data(w);f={preinitialize:function(){f.is.dimmer()?(h=C.parent(),d=C):(h=C,d=f.has.dimmer()?p.dimmerName?h.find(m.dimmer).filter("."+p.dimmerName):h.find(m.dimmer):f.create())},initialize:function(){f.debug("Initializing dimmer",p),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),k=f,C.data(w,k)},destroy:function(){f.verbose("Destroying previous module",d),f.unbind.events(),f.remove.variation(),h.off(b)},bind:{events:function(){"hover"==p.on?h.on("mouseenter"+b,f.show).on("mouseleave"+b,f.hide):"click"==p.on&&h.on(x+b,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",h),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",d),h.on(x+b,m.dimmer,f.event.click))}},unbind:{events:function(){C.removeData(w)}},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(m.content))&&(f.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);f.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(p.template.dimmer());return p.variation&&(f.debug("Creating dimmer with variation",p.variation),t.addClass(p.variation)),p.dimmerName&&(f.debug("Creating named dimmer",p.dimmerName),t.addClass(p.dimmerName)),t.appendTo(h),t},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",d,p),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(t),p.onShow.call(S),p.onChange.call(S))},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",d),f.animate.hide(t),p.onHide.call(S),p.onChange.call(S)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",d),f.is.dimmed()?f.hide():f.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==i&&d.transition("is supported")?("auto"!==p.opacity&&f.set.opacity(),d.transition({animation:p.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),t()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==p.opacity&&(p.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),p.opacity,function(){d.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==i&&d.transition("is supported")?(f.verbose("Hiding dimmer with css"),d.transition({animation:p.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),d.stop().fadeOut(f.get.duration(),function(){f.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?f.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return p.dimmerName?C.find(m.dimmer).filter("."+p.dimmerName).length>0:C.find(m.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return"auto"==p.closable?"hover"==p.on?!1:!0:p.closable},dimmer:function(){return C.hasClass(v.dimmer)},dimmable:function(){return C.hasClass(v.dimmable)},dimmed:function(){return h.hasClass(v.dimmed)},disabled:function(){return h.hasClass(v.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return h.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(e){var t=d.css("background-color"),n=t.split(","),i=n&&4==n.length;e=0===p.opacity?0:p.opacity||e,i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(v.active)},dimmable:function(){h.addClass(v.dimmable)},dimmed:function(){h.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(e){e=e||p.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){h.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(e){e=e||p.variation,e&&d.removeClass(e)}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",_&&(t+=" '"+_+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var s,a,u,l=k;return n=n||c,o=S||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var o=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=s)l=l[o];else{if(l[o]!==i)return a=l[o],!1;if(!e.isPlainObject(l[r])||n==s)return l[r]!==i?(a=l[r],!1):(f.error(y.method,t),!1);l=l[r]}})),e.isFunction(a)?u=a.apply(o,n):a!==i&&(u=a),e.isArray(r)?r.push(u):r!==i?r=[r,u]:u!==i&&(r=u),a}},f.preinitialize(),l?(k===i&&f.initialize(),f.invoke(u)):(k!==i&&k.invoke("destroy"),f.initialize())}),r!==i?r:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),e.$=$}.apply(e,arguments)})}(this),function(e){define("semantic-ui-popup",["jquery"],function(){return function(){return function(e,t,n,i){e.fn.popup=function(r){var o,s=e(this),a=e(n),u=e(t),l=e("body"),c=s.selector||"",d=!0,h=(new Date).getTime(),f=[],p=arguments[0],m="string"==typeof p,g=[].slice.call(arguments,1);return s.each(function(){var n,s,v,y,b,w=e.isPlainObject(r)?e.extend(!0,{},e.fn.popup.settings,r):e.extend({},e.fn.popup.settings),_=w.selector,x=w.className,C=w.error,S=w.metadata,k=w.namespace,T="."+w.namespace,M="module-"+k,E=e(this),D=e(w.context),O=w.target?e(w.target):E,A=0,R=!1,j=!1,N=this,L=E.data(M);b={initialize:function(){b.debug("Initializing",E),b.createID(),b.bind.events(),!b.exists()&&w.preserve&&b.create(),b.instantiate()},instantiate:function(){b.verbose("Storing instance",b),L=b,E.data(M,L)},refresh:function(){w.popup?n=e(w.popup).eq(0):w.inline&&(n=O.nextAll(_.popup).eq(0),w.popup=n),w.popup?(n.addClass(x.loading),s=b.get.offsetParent(),n.removeClass(x.loading),w.movePopup&&b.has.popup()&&b.get.offsetParent(n)[0]!==s[0]&&(b.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(s))):s=w.inline?b.get.offsetParent(O):b.has.popup()?b.get.offsetParent(n):l,s.is("html")&&s[0]!==l[0]&&(b.debug("Setting page as offset parent"),s=l),b.get.variation()&&b.set.variation()},reposition:function(){b.refresh(),b.set.position()},destroy:function(){b.debug("Destroying previous module"),n&&!w.preserve&&b.removePopup(),clearTimeout(b.hideTimer),clearTimeout(b.showTimer),u.off(v),E.off(T).removeData(M)},event:{start:function(t){var n=e.isPlainObject(w.delay)?w.delay.show:w.delay;clearTimeout(b.hideTimer),j||(b.showTimer=setTimeout(b.show,n))},end:function(){var t=e.isPlainObject(w.delay)?w.delay.hide:w.delay;clearTimeout(b.showTimer),b.hideTimer=setTimeout(b.hide,t)},touchstart:function(e){j=!0,b.show()},resize:function(){b.is.visible()&&b.set.position()},hideGracefully:function(t){t&&0===e(t.target).closest(_.popup).length?(b.debug("Click occurred outside popup hiding popup"),b.hide()):b.debug("Click was inside popup, keeping popup open")}},create:function(){var t=b.get.html(),i=b.get.title(),r=b.get.content();t||r||i?(b.debug("Creating pop-up html"),t||(t=w.templates.popup({title:i,content:r})),n=e("<div/>").addClass(x.popup).data(S.activator,E).html(t),w.inline?(b.verbose("Inserting popup element inline",n),n.insertAfter(E)):(b.verbose("Appending popup element to body",n),n.appendTo(D)),b.refresh(),b.set.variation(),w.hoverable&&b.bind.popup(),w.onCreate.call(n,N)):0!==O.next(_.popup).length?(b.verbose("Pre-existing popup found"),w.inline=!0,w.popups=O.next(_.popup).data(S.activator,E),b.refresh(),
w.hoverable&&b.bind.popup()):w.popup?(e(w.popup).data(S.activator,E),b.verbose("Used popup specified in settings"),b.refresh(),w.hoverable&&b.bind.popup()):b.debug("No content specified skipping display",N)},createID:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),v="."+y,b.verbose("Creating unique id for element",y)},toggle:function(){b.debug("Toggling pop-up"),b.is.hidden()?(b.debug("Popup is hidden, showing pop-up"),b.unbind.close(),b.show()):(b.debug("Popup is visible, hiding pop-up"),b.hide())},show:function(e){if(e=e||function(){},b.debug("Showing pop-up",w.transition),b.is.hidden()&&(!b.is.active()||!b.is.dropdown())){if(b.exists()||b.create(),w.onShow.call(n,N)===!1)return void b.debug("onShow callback returned false, cancelling popup animation");w.preserve||w.popup||b.refresh(),n&&b.set.position()&&(b.save.conditions(),w.exclusive&&b.hideAll(),b.animate.show(e))}},hide:function(e){if(e=e||function(){},b.is.visible()||b.is.animating()){if(w.onHide.call(n,N)===!1)return void b.debug("onHide callback returned false, cancelling popup animation");b.remove.visible(),b.unbind.close(),b.restore.conditions(),b.animate.hide(e)}},hideAll:function(){e(_.popup).filter("."+x.visible).each(function(){e(this).data(S.activator).popup("hide")})},exists:function(){return n?w.inline||w.popup?b.has.popup():n.closest(D).length>=1?!0:!1:!1},removePopup:function(){b.has.popup()&&!w.popup&&(b.debug("Removing popup",n),n.remove(),n=i,w.onRemove.call(n,N))},save:{conditions:function(){b.cache={title:E.attr("title")},b.cache.title&&E.removeAttr("title"),b.verbose("Saving original attributes",b.cache.title)}},restore:{conditions:function(){return b.cache&&b.cache.title&&(E.attr("title",b.cache.title),b.verbose("Restoring original attributes",b.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},w.transition&&e.fn.transition!==i&&E.transition("is supported")?(b.set.visible(),n.transition({animation:w.transition+" in",queue:!1,debug:w.debug,verbose:w.verbose,duration:w.duration,onComplete:function(){b.bind.close(),t.call(n,N),w.onVisible.call(n,N)}})):b.error(C.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},b.debug("Hiding pop-up"),w.onHide.call(n,N)===!1?void b.debug("onHide callback returned false, cancelling popup animation"):void(w.transition&&e.fn.transition!==i&&E.transition("is supported")?n.transition({animation:w.transition+" out",queue:!1,duration:w.duration,debug:w.debug,verbose:w.verbose,onComplete:function(){b.reset(),t.call(n,N),w.onHidden.call(n,N)}}):b.error(C.noTransition))}},change:{content:function(e){n.html(e)}},get:{html:function(){return E.removeData(S.html),E.data(S.html)||w.html},title:function(){return E.removeData(S.title),E.data(S.title)||w.title},content:function(){return E.removeData(S.content),E.data(S.content)||E.attr("title")||w.content},variation:function(){return E.removeData(S.variation),E.data(S.variation)||w.variation},popup:function(){return n},popupOffset:function(){return n.offset()},calculations:function(){var e,i=O[0],r=w.inline||w.popup&&w.movePopup?O.position():O.offset(),o={};return o={target:{element:O[0],width:O.outerWidth(),height:O.outerHeight(),top:r.top,left:r.left,margin:{}},popup:{width:n.outerWidth(),height:n.outerHeight()},parent:{width:s.outerWidth(),height:s.outerHeight()},screen:{scroll:{top:u.scrollTop(),left:u.scrollLeft()},width:u.width(),height:u.height()}},w.setFluidWidth&&b.is.fluid()&&(o.container={width:n.parent().outerWidth()},o.popup.width=o.container.width),o.target.margin.top=w.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,o.target.margin.left=w.inline?b.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=o.screen,o.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},o},id:function(){return y},startEvent:function(){return"hover"==w.on?"mouseenter":"focus"==w.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==w.on?"mouseleave":"focus"==w.on?"blur":!1},distanceFromBoundary:function(e,t){var n,i,r={};return e=e||b.get.offset(),t=t||b.get.calculations(),n=t.popup,i=t.boundary,e&&(r={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},b.verbose("Distance from boundaries determined",e,r)),r},offsetParent:function(t){var n=t!==i?t[0]:E[0],r=n.parentNode,o=e(r);if(r)for(var s="none"===o.css("transform"),a="static"===o.css("position"),u=o.is("html");r&&!u&&a&&s;)r=r.parentNode,o=e(r),s="none"===o.css("transform"),a="static"===o.css("position"),u=o.is("html");return o&&o.length>0?o:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],r={top:"bottom",bottom:"top",left:"right",right:"left"},o={left:"center",center:"right",right:"left"},s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},a="top"==n||"bottom"==n,u=!1,l=!1,c=!1;return R||(b.verbose("All available positions available"),R=b.get.positions()),b.debug("Recording last position tried",e),R[e]=!0,"opposite"===w.prefer&&(c=[r[n],i],c=c.join(" "),u=R[c]===!0,b.debug("Trying opposite strategy",c)),"adjacent"===w.prefer&&a&&(c=[n,o[i]],c=c.join(" "),l=R[c]===!0,b.debug("Trying adjacent strategy",c)),(l||u)&&(b.debug("Using backup position",c),c=s[e]),c}},set:{position:function(e,t){if(0===O.length||0===n.length)return void b.error(C.notFound);var r,o,s,a,u,l,c,d;if(t=t||b.get.calculations(),e=e||E.data(S.position)||w.position,r=E.data(S.offset)||w.offset,o=w.distanceAway,s=t.target,a=t.popup,u=t.parent,0===s.width&&0===s.height&&!(s.element instanceof SVGGraphicsElement))return b.debug("Popup target is hidden, no action taken"),!1;switch(w.inline&&(b.debug("Adding margin to calculation",s.margin),"left center"==e||"right center"==e?(r+=s.margin.top,o+=-s.margin.left):"top left"==e||"top center"==e||"top right"==e?(r+=s.margin.left,o-=s.margin.top):(r+=s.margin.left,o+=s.margin.top)),b.debug("Determining popup position from calculations",e,t),b.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),b.debug("RTL: Popup position updated",e)),A==w.maxSearchDepth&&"string"==typeof w.lastResort&&(e=w.lastResort),e){case"top left":l={top:"auto",bottom:u.height-s.top+o,left:s.left+r,right:"auto"};break;case"top center":l={bottom:u.height-s.top+o,left:s.left+s.width/2-a.width/2+r,top:"auto",right:"auto"};break;case"top right":l={bottom:u.height-s.top+o,right:u.width-s.left-s.width-r,top:"auto",left:"auto"};break;case"left center":l={top:s.top+s.height/2-a.height/2+r,right:u.width-s.left+o,left:"auto",bottom:"auto"};break;case"right center":l={top:s.top+s.height/2-a.height/2+r,left:s.left+s.width+o,bottom:"auto",right:"auto"};break;case"bottom left":l={top:s.top+s.height+o,left:s.left+r,bottom:"auto",right:"auto"};break;case"bottom center":l={top:s.top+s.height+o,left:s.left+s.width/2-a.width/2+r,bottom:"auto",right:"auto"};break;case"bottom right":l={top:s.top+s.height+o,right:u.width-s.left-s.width-r,left:"auto",bottom:"auto"}}if(l===i&&b.error(C.invalidPosition,e),b.debug("Calculated popup positioning values",l),n.css(l).removeClass(x.position).addClass(e).addClass(x.loading),c=b.get.popupOffset(),d=b.get.distanceFromBoundary(c,t),b.is.offstage(d,e)){if(b.debug("Position is outside viewport",e),A<w.maxSearchDepth)return A++,e=b.get.nextPosition(e),b.debug("Trying new position",e),n?b.set.position(e,t):!1;if(!w.lastResort)return b.debug("Popup could not find a position to display",n),b.error(C.cannotPlace,N),b.remove.attempts(),b.remove.loading(),b.reset(),!1;b.debug("No position found, showing with last position")}return b.debug("Position is on stage",e),b.remove.attempts(),b.remove.loading(),w.setFluidWidth&&b.is.fluid()&&b.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||b.get.calculations(),b.debug("Automatically setting element width to parent width",e.parent.width),n.css("width",e.container.width)},variation:function(e){e=e||b.get.variation(),e&&b.has.popup()&&(b.verbose("Adding variation to popup",e),n.addClass(e))},visible:function(){E.addClass(x.visible)}},remove:{loading:function(){n.removeClass(x.loading)},variation:function(e){e=e||b.get.variation(),e&&(b.verbose("Removing variation",e),n.removeClass(e))},visible:function(){E.removeClass(x.visible)},attempts:function(){b.verbose("Resetting all searched positions"),A=0,R=!1}},bind:{events:function(){b.debug("Binding popup events to module"),"click"==w.on&&E.on("click"+T,b.toggle),"hover"==w.on&&d&&E.on("touchstart"+T,b.event.touchstart),b.get.startEvent()&&E.on(b.get.startEvent()+T,b.event.start).on(b.get.endEvent()+T,b.event.end),w.target&&b.debug("Target set to element",O),u.on("resize"+v,b.event.resize)},popup:function(){b.verbose("Allowing hover events on popup to prevent closing"),n&&b.has.popup()&&n.on("mouseenter"+T,b.event.start).on("mouseleave"+T,b.event.end)},close:function(){(w.hideOnScroll===!0||"auto"==w.hideOnScroll&&"click"!=w.on)&&(a.one(b.get.scrollEvent()+v,b.event.hideGracefully),D.one(b.get.scrollEvent()+v,b.event.hideGracefully)),"hover"==w.on&&j&&(b.verbose("Binding popup close event to document"),a.on("touchstart"+v,function(e){b.verbose("Touched away from popup"),b.event.hideGracefully.call(N,e)})),"click"==w.on&&w.closable&&(b.verbose("Binding popup close event to document"),a.on("click"+v,function(e){b.verbose("Clicked away from popup"),b.event.hideGracefully.call(N,e)}))}},unbind:{close:function(){(w.hideOnScroll===!0||"auto"==w.hideOnScroll&&"click"!=w.on)&&(a.off("scroll"+v,b.hide),D.off("scroll"+v,b.hide)),"hover"==w.on&&j&&(a.off("touchstart"+v),j=!1),"click"==w.on&&w.closable&&(b.verbose("Removing close event from document"),a.off("click"+v))}},has:{popup:function(){return n&&n.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-w.jitter&&(b.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0?!0:!1},active:function(){return E.hasClass(x.active)},animating:function(){return n&&n.hasClass(x.animating)},fluid:function(){return n&&n.hasClass(x.fluid)},visible:function(){return n&&n.hasClass(x.visible)},dropdown:function(){return E.hasClass(x.dropdown)},hidden:function(){return!b.is.visible()},rtl:function(){return"rtl"==E.css("direction")}},reset:function(){b.remove.visible(),w.preserve?e.fn.transition!==i&&n.transition("remove transition"):b.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){w.debug&&(w.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,w.name+":"),b.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,w.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=h||t,n=t-i,h=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=w.name+":",n=0;h=!1,clearTimeout(b.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,r){var s,a,u,l=L;return n=n||g,r=N||r,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var o=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=s)l=l[o];else{if(l[o]!==i)return a=l[o],!1;if(!e.isPlainObject(l[r])||n==s)return l[r]!==i?(a=l[r],!1):!1;l=l[r]}})),e.isFunction(a)?u=a.apply(r,n):a!==i&&(u=a),e.isArray(o)?o.push(u):o!==i?o=[o,u]:u!==i&&(o=u),a}},m?(L===i&&b.initialize(),b.invoke(p)):(L!==i&&L.invoke("destroy"),b.initialize())}),o!==i?o:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(e){return i[e]};return n.test(e)?e.replace(t,r):e},popup:function(t){var n="",r=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=r(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=r(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),e.$=$}.apply(e,arguments)})}(this),define("app/vendors",["async","underscore","jquery","backbone","backbone.localStorage","backbone.marionette","backbone.stickit","backbone.nested-attributes","moment","moment-ru","semantic-ui-transition","semantic-ui-dropown","semantic-ui-dimmer","semantic-ui-popup"],function(){return window.moment=require("moment"),moment.locale("ru")}),requirejs.config({urlArgs:"rev=0.0.1",baseUrl:"js",shim:{"semantic-ui-accordion":{deps:["jquery"],exports:"$"},"semantic-ui-ad":{deps:["jquery"],exports:"$"},"semantic-ui-checkbox":{deps:["jquery"],exports:"$"},"semantic-ui-colorize":{deps:["jquery"],exports:"$"},"semantic-ui-embed":{deps:["jquery"],exports:"$"},"semantic-ui-form":{deps:["jquery"],exports:"$"},"semantic-ui-nag":{deps:["jquery"],exports:"$"},"semantic-ui-progress":{deps:["jquery"],exports:"$"},"semantic-ui-rating":{deps:["jquery"],exports:"$"},"semantic-ui-search":{deps:["jquery"],exports:"$"},"semantic-ui-shape":{deps:["jquery"],exports:"$"},"semantic-ui-state":{deps:["jquery"],exports:"$"},"semantic-ui-sticky":{deps:["jquery"],exports:"$"},"semantic-ui-tab":{deps:["jquery"],exports:"$"},"semantic-ui-visibility":{deps:["jquery"],exports:"$"},"semantic-ui-visit":{deps:["jquery"],exports:"$"},"semantic-ui-video":{deps:["jquery"],exports:"$"},"semantic-ui-dropown":{deps:["jquery"],exports:"$"},"semantic-ui-dimmer":{deps:["jquery"],exports:"$"},"semantic-ui-sidebar":{deps:["jquery"],exports:"$"},"semantic-ui-popup":{deps:["jquery"],exports:"$"},"semantic-ui-modal":{deps:["jquery"],exports:"$"},"semantic-ui-api":{deps:["jquery"],exports:"$"},"semantic-ui-transition":{deps:["jquery"],exports:"$"},"backbone.nested-attributes":{deps:["backbone"],exports:"Backbone"},"moment-duration-format":{deps:["moment"]}},paths:{async:"../components/requirejs-plugins/src/async",underscore:"../components/underscore/underscore",backbone:"../components/backbone/backbone","backbone.marionette":"../components/backbone.marionette/lib/backbone.marionette","backbone.stickit":"../components/backbone.stickit/backbone.stickit","backbone.sync":"lib/backbone/backbone-rails-sync","backbone.nested-attributes":"lib/backbone/backbone-nested-attributes","backbone.localStorage":"../components/backbone.localStorage/backbone.localStorage",jquery:"../components/jquery/dist/jquery","jquery-deparam":"../components/jquery-deparam/jquery-deparam","js-cookie":"../components/js-cookie/src/js.cookie",domReady:"../components/requirejs-domready/domReady",modernizr:"../components/modernizr/modernizr","google-maps":"https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyAE3YYOa-ZEYZ624wF5SFtEjTcwEyIvmcs&libraries=places","google-client":"https://apis.google.com/js/client","google-platform":"https://apis.google.com/js/platform",moment:"../components/moment/moment","moment-ru":"../components/moment/locale/ru","moment-duration-format":"../components/moment-duration-format/lib/moment-duration-format",nprogress:"../components/nprogress/nprogress","jquery.inputmask":"../components/jquery.inputmask/dist/jquery.inputmask.bundle",pikaday:"../components/pikaday/pikaday",routes:"routes/routes","semantic-ui-accordion":"../components/semantic/dist/components/accordion","semantic-ui-ad":"../components/semantic/dist/components/ad","semantic-ui-checkbox":"../components/semantic/dist/components/checkbox","semantic-ui-colorize":"../components/semantic/dist/components/colorize","semantic-ui-embed":"../components/semantic/dist/components/embed","semantic-ui-form":"../components/semantic/dist/components/form","semantic-ui-nag":"../components/semantic/dist/components/nag","semantic-ui-progress":"../components/semantic/dist/components/progress","semantic-ui-rating":"../components/semantic/dist/components/rating","semantic-ui-search":"../components/semantic/dist/components/search","semantic-ui-shape":"../components/semantic/dist/components/shape","semantic-ui-state":"../components/semantic/dist/components/state","semantic-ui-sticky":"../components/semantic/dist/components/sticky","semantic-ui-tab":"../components/semantic/dist/components/tab","semantic-ui-visibility":"../components/semantic/dist/components/visibility","semantic-ui-visit":"../components/semantic/dist/components/visit","semantic-ui-video":"../components/semantic/dist/components/video","semantic-ui-dropown":"../components/semantic/dist/components/dropdown","semantic-ui-dimmer":"../components/semantic/dist/components/dimmer","semantic-ui-sidebar":"../components/semantic/dist/components/sidebar","semantic-ui-popup":"../components/semantic/dist/components/popup","semantic-ui-modal":"../components/semantic/dist/components/modal","semantic-ui-api":"../components/semantic/dist/components/api","semantic-ui-transition":"../components/semantic/dist/components/transition","bindings.uploader":"app/base/bindings/uploader","bindings.remote-multiple-dropdown":"app/base/bindings/remote_multiple_dropdown","bindings.numeric-input":"app/base/bindings/inputmask","bindings.datepicker":"app/base/bindings/datepicker","bindings.date-range-picker":"app/base/bindings/date_range_picker","bindings.address":"app/base/bindings/address"},packages:["base.config",{name:"base.config",location:"app/config"},"base.entities",{name:"base.entities",location:"app/base/entities"},"base.controllers",{name:"base.controllers",location:"app/base/controllers"},"base.views",{name:"base.views",location:"app/base/views"},"entities",{name:"entities",location:"app/entities"},"event",{name:"event",location:"app/modules/event"}],modules:[{name:"main",include:["app/vendors","app/app","base.entities","base.views","base.controllers","base.config","entities","event","app/modules/event/event_api"]}]}),require(["app/vendors"],function(){return require(["app/app","base.entities","base.views","base.controllers","base.config","entities","event"],function(){var e,t;return e=require("app/app"),t=require("base.config"),$(document).ready(function(){return e.start(t)})})}),define("main",function(){}),define("app/helpers/marionette_mixin",["backbone.marionette"],function(){return _.extend(Mn.Renderer,{render:function(e,t){var n;if(n=JST[e],!n)throw"Template "+e+" not found!";return n(t)}}),_.extend(Mn.Application.prototype,{navigate:function(e,t){return null==t&&(t={}),e=e.replace(/\/api\/v./,""),"/"===e.charAt(0)&&(e="#!"+e),Backbone.history.navigate(e,t)},getCurrentRoute:function(){var e;return e=Backbone.history.fragment,_.isEmpty(e)?null:e},startHistory:function(e){return Backbone.history?Backbone.history.start(e):void 0}})}),define("app/app",["backbone.marionette","app/helpers/marionette_mixin"],function(){var e;return e=new Mn.Application,e.rootRoute="/event",e.locale="RU",e.addRegions({navRegion:"#nav-region",flashRegion:"#flash-region",modalRegion:"#modal-region",mainRegion:"#main-region",footerRegion:"#footer-region"}),e.on("start",function(e){return null==e&&(e={}),console.log("start application"),this.startHistory(),this.getCurrentRoute()?void 0:this.navigate(this.rootRoute,{trigger:!0})}),e});var slice=[].slice;define("base.entities/sync",["app/app"],function(e){var t,n;return t=Backbone.sync,Backbone.sync=function(i,r,o){var s,a,u;return null==o&&(o={}),_.defaults(o,{beforeSend:_.bind(n.beforeSend,r),complete:_.bind(n.complete,r)}),s=o.error,o.error=function(){var t,n;return t=1<=arguments.length?slice.call(arguments,0):[],s&&s.apply(null,t),(n=e.vent).trigger.apply(n,["model:error",r].concat(slice.call(t)))},null!==o.data||!r||"create"!==i&&"update"!==i&&"patch"!==i||(o.contentType="application/json",r.paramRoot&&(a={},a[r.paramRoot]=r.toJSON(o)),a||(a=r.toJSON(o)),o.data=JSON.stringify(a)),u=t(i,r,o),r._fetch?void 0:r._fetch=u.promise()},n={beforeSend:function(){return this.trigger("sync:start",this)},complete:function(){return this.trigger("sync:stop",this)}},e.module("Entities",function(e,t,n,i,r,o){return t.commands.setHandler("when:fetched",function(e,t){var n;return n=o.chain([e]).flatten().pluck("_fetch").value(),r.when.apply(r,n).done(function(){return t()})})})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.entities/model",["app/app"],function(e){return e.module("Entities",function(e,t,n,i,r,o){return e.Model=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t}(n.Model),e.RelationalModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t}(n.NestedAttributesModel)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.entities/collection",["app/app"],function(e){return e.module("Entities",function(e,t,n,i,r,o){return e.Collection=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t}(n.Collection),e.PaginatedCollection=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.total=0,t.prototype.number=1,t.prototype.size=24,t.prototype.parse=function(e,t){var n;return e.meta&&(n=e.meta,this.number=n.number,this.total=n.total,this.count=n.count),e.data},t.prototype.isLastPage=function(){return this.number>=this.total},t.prototype.more=function(e){return null==e&&(e={}),this.number++,e=o.defaults(e,{merge:!1,remove:!1}),this.fetch(e)},t.prototype.fetch=function(e){return null==e&&(e={}),e.data||(e.data={}),o.defaults(e.data,{page:{number:this.number,size:this.size}}),n.Collection.prototype.fetch.call(this,e)},t}(n.Collection)})}),define("base.entities/main",["app/app","./sync","./model","./collection"],function(e){return e.Entities}),define("base.entities",["base.entities/main"],function(e){return e});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.views/item_view",["app/app"],function(e){return e.module("Views",function(e,t,n,i,r,o){return e.ItemView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.render=function(){var e;return e=t.__super__.render.apply(this,arguments),this.model&&this.model instanceof n.Model&&(this.stickit(),this.model.on("invalid",this.validationError,this)),e},t}(i.ItemView)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.views/collection_view",["app/app"],function(e){return e.module("Views",function(e,t,n,i,r,o){return e.CollectionView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t}(i.CollectionView)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.views/composite_view",["app/app"],function(e){return e.module("Views",function(e,t,n,i,r,o){return e.CompositeView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.render=function(){var e;return e=t.__super__.render.apply(this,arguments),this.model&&this.model instanceof n.Model&&(this.stickit(),this.model.on("invalid",this.validationError,this)),null!=this.collection&&this.collection instanceof n.Collection&&this.$el.hasClass("loading")&&this.collection.on("sync:stop",function(e){return function(){return e.$el.removeClass("loading")}}(this)),e},t}(i.CompositeView)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.views/layout_view",["app/app"],function(e){return e.module("Views",function(e,t,n,i,r,o){return e.LayoutView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.render=function(){var e;return e=t.__super__.render.apply(this,arguments),this.model&&this.model instanceof n.Model&&(this.stickit(),this.model.on("invalid",this.validationError,this)),e},t}(i.LayoutView)})}),define("base.views/view",["app/app","./item_view","./collection_view","./composite_view","./layout_view"],function(e){return e.module("Views",function(e,t,n,i,r,o){return o.extend(i.View.prototype,{bindings:{},mixinTemplateHelpers:function(e){var t;return e=e||{},t=this.getOption("templateHelpers"),t=i._getValue(t,this),e=o.extend(e,i.Renderer.templateHelpers),o.extend(e,t)},initCustomScrollBar:function(e){var t;return t={suppressScrollX:!0,wheelPropagation:!0},e.perfectScrollbar(t)},setHeightAsWindow:function(e){return r(window).on("resize",function(){var t,n;return n=r(window).height(),t=64,e.css("height",n-t)}),r(window).trigger("resize")},validationError:function(e){return o.each(e.validationError,function(e){return function(t){return e._addError(t)}}(this))},_addError:function(e){var t,n,i,r;return t=e.attr,i=e.msg,n=this.$("[name="+t+"]"),n.on("keyup change",this._removeError),r=n.parents(".field"),r.hasClass("error")?void 0:r.addClass("error")},_removeError:function(e){var t;return t=r(e.currentTarget),t.off("keyup change"),t.parents(".field").removeClass("error")}})})});var slice=[].slice;define("base.views/template_helpers",["app/app","./view"],function(e){return e.module("Views",function(e,t,n,i,r,o){return i.Renderer.templateHelpers={t:function(){var e,n;return e=1<=arguments.length?slice.call(arguments,0):[],(n=t.reqres).request.apply(n,["i18n:t"].concat(slice.call(e)))},signed_in:function(){return t.reqres.request("user:signed:in?")},trunc:function(e,t){return e&&e.length>t?e.substr(0,t-1)+" ...":e},formatedDate:function(e,t){return null==t&&(t="LLL"),moment(e).format(t)},formatedDuration:function(e){return moment.duration(1e3*e).format("mm:ss",{forceLength:!0,trim:!1})},formatedCost:function(e,t){var n;return null==t&&(t="USD"),n=function(){switch(t.toLowerCase()){case"usd":return'<i class="dollar icon"></i>';case"rub":return'<i class="ruble icon"></i>'}}(),""+e+n},randomStr:function(e){var t,n,i,r,o,s;for(s="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=[],t=n=0,r=e;r>=0?r>=n:n>=r;t=r>=0?++n:--n)o.push(s+=i.charAt(Math.floor(Math.random()*i.length)));return o}}})}),define("base.views/main",["app/app","./view","./item_view","./collection_view","./composite_view","./layout_view","./template_helpers"],function(e){return e.Views}),define("base.views",["base.views/main"],function(e){return e});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("base.controllers/controller",["app/app"],function(e){return e.module("Controllers",function(e,t,n,i,r,o){return e.Base=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t}(i.Object)}),e.Controllers}),define("base.controllers/main",["app/app","./controller"],function(e){return e.Controllers}),define("base.controllers",["base.controllers/main"],function(e){return e}),define("base.config/base",[],function(){var e;return e={debug:!0,locale:"RU",GOOGLE_API_KEY:"AIzaSyAE3YYOa-ZEYZ624wF5SFtEjTcwEyIvmcs",GOOGLE_CLIENT_ID:"685612938874-6ts6u46vinnmgg5i8l0q4ffl8ain3g7f.apps.googleusercontent.com",GOOGLE_SCOPE:["email","profile"]}}),define("base.config/main",["underscore","./base"],function(e,t){return e.extend({},t)}),define("base.config",["base.config/main"],function(e){return e});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty,slice=[].slice;define("entities/event/event",["app/app","base.entities"],function(e,t){return e.module("Entities",function(e,t,n,i,r,o){var s;return e.Event=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.localStorage=new n.LocalStorage("Eventes"),t.prototype.defaults={start_date:moment().toISOString()},t}(e.Model),e.EventsCollection=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return extend(i,t),i.prototype.model=e.Event,i.prototype.localStorage=new n.LocalStorage("Eventes"),i}(e.Collection),s={getEvents:function(){var t;return this.events||(this.events=(t=new e.EventsCollection,t.fetch(),t))},getEvent:function(e){var n;return n=t.reqres.request("event:entities"),n.get(e)},newEvent:function(e){var n;return null==e&&(e={}),n=t.reqres.request("event:entities"),new n.model(e)},saveEvent:function(e,n){var i;return null==n&&(n={}),n=o.defaults(n,{success:function(e){return function(n,i,r){return e.events&&e.events.add(n),t.navigate("/event",{trigger:!0})}}(this)}),i=t.reqres.request("event:entities"),i.create(e,n)},destroyEvent:function(e){return e.destroy()}},t.reqres.setHandler("event:entities",function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],s.getEvents.apply(s,e)}),t.reqres.setHandler("event:entity",function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],s.getEvent.apply(s,e)}),t.reqres.setHandler("event:entity:new",function(){
var e;return e=1<=arguments.length?slice.call(arguments,0):[],s.newEvent.apply(s,e)}),t.commands.setHandler("event:save",function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],s.saveEvent.apply(s,e)}),t.commands.setHandler("event:destroy",function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],s.destroyEvent.apply(s,e)})})}),define("entities/main",["app/app","./event/event"],function(e){return e.Entities}),define("entities",["entities/main"],function(e){return e});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty,slice=[].slice;define("event/main",["app/app"],function(e){return e.module("Event",function(e,t,n,i,r,o){var s;return e.Router=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.appRoutes={"!/event":"list","!/event/new":"new","!/event/:id":"show","!/event/:id/edit":"edit","!/event/.*":"list"},t}(i.AppRouter),s={list:function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],require(["app/modules/event/event_api"],function(t){return t.list.apply(t,e)})},show:function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],require(["app/modules/event/event_api"],function(t){return t.show.apply(t,e)})},"new":function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],require(["app/modules/event/event_api"],function(t){return t["new"].apply(t,e)})},edit:function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],require(["app/modules/event/event_api"],function(t){return t.edit.apply(t,e)})}},e.on("start",function(t){return null==t&&(t={}),new e.Router({controller:s})})})}),define("event",["event/main"],function(e){return e}),window.JST||(window.JST={}),window.JST["event/list/templates/layout"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="ui container">\n  <div id="header-region"></div>\n  <div id="events-region" class="ui centered grid"></div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/list/templates/layout",function(){}),window.JST||(window.JST={}),window.JST["event/list/templates/header"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h1 class="ui dividing header">\n   \n  <div class="sub header">\n    <div class="ui link horizontal list">\n      <a href="#!/event/new" class="item">\n        <i class="plus square outline icon"></i> \n      </a>\n    </div>\n  </div>\n</h1>\n')}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/list/templates/header",function(){}),window.JST||(window.JST={}),window.JST["event/list/templates/item"]=function(e){e||(e={});var t,n=[],i=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},r=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t;for(n.push('<!-- Title -->\n<h3 class="ui header">\n  '),n.push(i(this.title)),n.push('\n  <div class="sub header">\n    <small>\n      <i class="calendar icon"></i> '),n.push(i(this.formatedDate(this.start_date,"LL"))),n.push('\n    </small>\n  </div>\n</h3>\n\n<!-- Description -->\n<p class="text-muted">\n  '),n.push(i(this.description)),n.push('\n</p>\n\n<!-- Members -->\n<div class="ui horizontal list">\n  '),e=t=0;2>=t;e=++t)n.push('\n  <div class="item">\n    <img class="ui avatar image" src="https://robohash.org/'),n.push(i(this.randomStr(5))),n.push('.png?size=96x96">\n    <div class="content">\n      <div class="header">Tom</div>\n      Top Contributor\n    </div>\n  </div>\n  ');n.push('\n</div>\n\n<!-- Hangouts button -->\n<div class="ui divider"></div>\n<div class="ui right aligned basic segment">\n  <a href="javascript:void(null);" class="destroy ui tiny red basic button"></a>\n  <a href="#!/event/'),n.push(i(this.id)),n.push('" class="ui tiny green basic button"></a>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=o,n.join("")},define("app/modules/event/list/templates/item",function(){});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("app/modules/event/list/list_view",["app/app","base.views","./templates/layout","./templates/header","./templates/item"],function(){var e,t;return e=require("app/app"),t=require("base.views"),e.module("Event.List",function(e,n,i,r,o,s){return e.Layout=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/list/templates/layout",t.prototype.className="page-layout",t.prototype.regions={header:"#header-region",events:"#events-region"},t}(t.LayoutView),e.Header=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/list/templates/header",t.prototype.className="ui basic segment",t}(t.ItemView),e.Event=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/list/templates/item",t.prototype.className="ui green clearing segment",t.prototype.ui={destroyBtn:".destroy"},t.prototype.triggers={"click @ui.destroyBtn":"delete"},t}(t.ItemView),e.Events=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.prototype.className="ten wide column",n.prototype.childView=e.Event,n.prototype.childViewEventPrefix="event",n}(t.CollectionView)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("app/modules/event/list/list_controller",["app/app","base.controllers","./list_view"],function(e){return e.module("Event.List",function(e,t,n,i,r,o){return e.Controller=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return extend(i,n),i.prototype.initialize=function(e){var n;return this.region=e.region,this.layout=this.getLayoutView(),n=t.reqres.request("event:entities"),this.layout.on("before:show",function(e){return function(){return e.getHeaderRegion(),e.getListRegion(n)}}(this)),this.region.show(this.layout)},i.prototype.getLayoutView=function(){return new e.Layout},i.prototype.getHeaderRegion=function(){var t;return t=new e.Header,this.layout.showChildView("header",t)},i.prototype.getListRegion=function(n){var i;return i=new e.Events({collection:n}),i.on("event:delete",function(e){var n,r;return r=e.model,n=e.collection,i=e.view,t.commands.execute("event:destroy",r)}),this.layout.showChildView("events",i)},i}(t.Controllers.Base)}),e.Event.List.Controller}),function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(i){}module.exports=t(n)}else"function"==typeof define&&define.amd?define("pikaday",["require"],function(e){var i="moment";try{n=e(i)}catch(r){}return t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},s=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},a=function(e,t,n){var r;i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(t,!0,!1),r=b(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=b(r,n),e.fireEvent("on"+t,r))},u=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){l(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=u((" "+e.className+" ").replace(" "+t+" "," "))},h=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},m=function(e){return e%4===0&&e%100!==0||e%400===0},g=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){f(e)&&e.setHours(0,0,0,0)},y=function(e,t){return e.getTime()===t.getTime()},b=function(e,t,n){var i,r;for(i in t)r=void 0!==e[i],r&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?f(t[i])?n&&(e[i]=new Date(t[i].getTime())):h(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=b({},t[i],n):(n||!r)&&(e[i]=t[i]);return e},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},_={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},C=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t=[];return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&t.push("is-selected"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},S=function(e,t,n){var i=new Date(n,0,1),r=Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+r+"</td>"},k=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},T=function(e){return"<tbody>"+e.join("")+"</tbody>"},M=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+x(e,t)+'">'+x(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},E=function(e,t,n,i,r){var o,s,a,u,l,c=e._o,d=n===c.minYear,f=n===c.maxYear,p='<div class="pika-title">',m=!0,g=!0;for(a=[],o=0;12>o;o++)a.push('<option value="'+(n===r?o-t:12+o-t)+'"'+(o===i?" selected":"")+(d&&o<c.minMonth||f&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(u='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",h(c.yearRange)?(o=c.yearRange[0],s=c.yearRange[1]+1):(o=n-c.yearRange,s=1+n+c.yearRange),a=[];s>o&&o<=c.maxYear;o++)o>=c.minYear&&a.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return l='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",p+=c.showMonthAfterYear?l+u:u+l,d&&(0===i||c.minMonth>=i)&&(m=!1),f&&(11===i||c.maxMonth<=i)&&(g=!1),0===t&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},D=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+M(e)+T(t)+"</table>"},O=function(s){var a=this,u=a.config(s);a._onMouseDown=function(e){if(a._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(l(t,"is-disabled")||(l(t,"pika-button")&&!l(t,"is-empty")?(a.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&r(function(){a.hide(),u.field&&u.field.blur()},100)):l(t,"pika-prev")?a.prevMonth():l(t,"pika-next")&&a.nextMonth()),l(t,"pika-select"))a._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},a._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(l(t,"pika-select-month")?a.gotoMonth(t.value):l(t,"pika-select-year")&&a.gotoYear(t.value))},a._onInputChange=function(n){var i;n.firedBy!==a&&(t?(i=e(u.field.value,u.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(u.field.value)),f(i)&&a.setDate(i),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var e=i.activeElement;do if(l(e,"pika-single"))return;while(e=e.parentNode);a._c||(a._b=r(function(){a.hide()},50)),a._c=!1},a._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",a._onChange)));do if(l(i,"pika-single")||i===u.trigger)return;while(i=i.parentNode);a._v&&t!==u.trigger&&i!==u.trigger&&a.hide()}},a.el=i.createElement("div"),a.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),o(a.el,"mousedown",a._onMouseDown,!0),o(a.el,"touchend",a._onMouseDown,!0),o(a.el,"change",a._onChange),u.field&&(u.container?u.container.appendChild(a.el):u.bound?i.body.appendChild(a.el):u.field.parentNode.insertBefore(a.el,u.field.nextSibling),o(u.field,"change",a._onInputChange),u.defaultDate||(t&&u.field.value?u.defaultDate=e(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var c=u.defaultDate;f(c)?u.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),u.bound?(this.hide(),a.el.className+=" is-bound",o(u.trigger,"click",a._onInputClick),o(u.trigger,"focus",a._onInputFocus),o(u.trigger,"blur",a._onInputBlur)):this.show()};return O.prototype={config:function(e){this._o||(this._o=b({},_,!0));var t=b(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),h(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||_.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>e?e=n:f(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(f(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth(),this.draw()},setMaxDate:function(e){v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth(),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,o=t.minMonth,s=t.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var u=0;u<t.numberOfMonths;u++)a+='<div class="pika-lendar">'+E(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year)+this.render(this.calendars[u].year,this.calendars[u].month)+"</div>";if(this.el.innerHTML=a,t.bound&&"hidden"!==t.field.type&&r(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var l=this;r(function(){l._o.onDraw.call(l)},0)}}},adjustPosition:function(){var e,t,n,r,o,s,a,u,l,c;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,r=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,s=window.innerHeight||i.documentElement.clientHeight,a=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)c=e.getBoundingClientRect(),u=c.left+window.pageXOffset,l=c.bottom+window.pageYOffset;else for(u=t.offsetLeft,l=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,l+=t.offsetTop;(this._o.reposition&&u+n>o||this._o.position.indexOf("right")>-1&&u-n+e.offsetWidth>0)&&(u=u-n+e.offsetWidth),(this._o.reposition&&l+r>s+a||this._o.position.indexOf("top")>-1&&l-r-e.offsetHeight>0)&&(l=l-r-e.offsetHeight),this.el.style.left=u+"px",this.el.style.top=l+"px"}},render:function(e,t){var n=this._o,i=new Date,r=g(e,t),o=new Date(e,t,1).getDay(),s=[],a=[];v(i),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var u=r+o,l=u;l>7;)l-=7;u+=7-l;for(var c=0,d=0;u>c;c++){var h=new Date(e,t,1+(c-o)),m=f(this._d)?y(h,this._d):!1,b=y(h,i),w=o>c||c>=r+o,_=n.startRange&&y(n.startRange,h),x=n.endRange&&y(n.endRange,h),T=n.startRange&&n.endRange&&n.startRange<h&&h<n.endRange,M=n.minDate&&h<n.minDate||n.maxDate&&h>n.maxDate||n.disableWeekends&&p(h)||n.disableDayFn&&n.disableDayFn(h),E={day:1+(c-o),month:t,year:e,isSelected:m,isToday:b,isDisabled:M,isEmpty:w,isStartRange:_,isEndRange:x,isInRange:T};a.push(C(E)),7===++d&&(n.showWeekNumber&&a.unshift(S(c-o,t,e)),s.push(k(a,n.isRTL)),a=[],d=0)}return D(n,s)},isVisible:function(){return this._v},show:function(){this._v||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},O}),define("bindings.datepicker",["backbone","backbone.stickit","pikaday","moment"],function(){var e,t;return t=require("moment"),e=require("pikaday"),Backbone.Stickit.addHandler({selector:"input.datepicker",initialize:function(n,i,r){var o,s,a;return a=_.extend({},r.defaultOptions,{theme:"semantic_ui",field:n[0],format:"LL",firstDay:1,container:n.parents("div")[0],bound:!0,i18n:{months:t.months(),weekdays:t.weekdays(),weekdaysShort:t.weekdaysShort()}}),a.setDefaultDate&&a.defaultDate&&(s=t(a.defaultDate).toISOString(),o=r.observe,i.set(o,s)),this.pikaday=new e(a)},onSet:function(e,n){return t(e,"LL").toISOString()},onGet:function(e,n){return t(e).format("LL")},destroy:function(e,t,n){return this.pikaday.destroy()}})}),window.JST||(window.JST={}),window.JST["event/new/templates/layout"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="ui container">\n  <div id="header-region"></div>\n\n  <div class="ui centered grid">\n    <div class="seven wide column">\n      <div id="form-region" class="ui tall stacked segment"></div>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/new/templates/layout",function(){}),window.JST||(window.JST={}),window.JST["event/new/templates/header"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h1 class="ui dividing header">\n    \n</h1>\n')}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/new/templates/header",function(){}),window.JST||(window.JST={}),window.JST["event/new/templates/form"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="field">\n  <label for="start_datee"> </label>\n  <div class="ui input">\n    <input id="start_datee" class="datepicker" name="start_date" type="text" placeholder=" ">\n  </div>\n</div>\n\n<div class="field">\n  <label for="title"> </label>\n  <div class="ui input">\n    <input id="title" name="title" type="text" placeholder=" " autocomplete="fname">\n  </div>\n</div>\n\n<div class="field">\n  <label for="description"></label>\n  <div class="ui input">\n    <textarea id="description" name="description" rows="2" placeholder="  "></textarea>\n  </div>\n</div>\n\n<div class="ui basic segment center aligned field">\n  <button type="submit" class="ui submit basic red button"></button>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/new/templates/form",function(){});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("app/modules/event/new/new_view",["app/app","base.views","bindings.datepicker","./templates/layout","./templates/header","./templates/form"],function(){var e,t;return e=require("app/app"),t=require("base.views"),e.module("Event.New",function(e,n,i,r,o,s){return e.Layout=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/new/templates/layout",t.prototype.className="page-layout",t.prototype.regions={header:"#header-region",form:"#form-region"},t}(t.LayoutView),e.Header=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/new/templates/header",t.prototype.className="ui basic segment",t}(t.ItemView),e.Form=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/new/templates/form",t.prototype.tagName="form",t.prototype.className="ui form",t.prototype.bindings={"[name=start_date]":{observe:"start_date"},"[name=title]":{observe:"title"},"[name=description]":{observe:"description"}},t.prototype.triggers={submit:"submit"},t}(t.ItemView)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("app/modules/event/new/new_controller",["app/app","base.controllers","./new_view"],function(e){return e.module("Event.New",function(e,t,n,i,r,o){return e.Controller=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return extend(i,n),i.prototype.initialize=function(e){var n;return this.region=e.region,this.layout=this.getLayoutView(),n=t.reqres.request("event:entity:new"),this.layout.on("before:show",function(e){return function(){return e.getHeaderRegion(),e.getFormRegion(n)}}(this)),this.region.show(this.layout)},i.prototype.getLayoutView=function(){return new e.Layout},i.prototype.getHeaderRegion=function(){var t;return t=new e.Header,this.layout.showChildView("header",t)},i.prototype.getFormRegion=function(n){var i;return i=new e.Form({model:n}),i.on("submit",function(e){var n,r;return r=e.model,n=e.collection,i=e.view,t.commands.execute("event:save",r)}),this.layout.showChildView("form",i)},i}(t.Controllers.Base)}),e.Event.New.Controller}),window.JST||(window.JST={}),window.JST["event/show/templates/layout"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="ui container">\n  <div id="header-region"></div>\n\n  <div class="ui centered grid">\n    <div id="content-region" class="seven wide column"></div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/show/templates/layout",function(){}),window.JST||(window.JST={}),window.JST["event/show/templates/header"]=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")},define("app/modules/event/show/templates/header",function(){}),window.JST||(window.JST={}),window.JST["event/show/templates/content"]=function(e){e||(e={});var t,n=[],i=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},r=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t;for(n.push('<h3 class="ui dividing header">\n  '),n.push(i(this.title)),n.push('\n  <duv class="sub header">\n    <small>\n      <i class="calendar icon"></i> '),n.push(i(this.formatedDate(this.start_date,"LL"))),n.push('\n    </small>\n  </duv>\n</h3>\n\n<!-- Description -->\n<p class="text-muted">\n  '),n.push(i(this.description)),n.push('\n</p>\n\n<!-- Members -->\n<div class="ui horizontal list">\n  '),e=t=0;2>t;e=++t)n.push('\n  <div class="item">\n    <img class="ui avatar image" src="https://robohash.org/'),n.push(i(this.randomStr(5))),n.push('.png?size=96x96">\n    <div class="content">\n      <div class="header">Tom</div>\n      Top Contributor\n    </div>\n  </div>\n  ');n.push('\n</div>\n\n<!-- Hangouts button -->\n<div class="ui divider"></div>\n<div class="ui center aligned basic segment">\n  <a href="javascript:void(null);" class="hangout ui tiny green basic button">hangout</a>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=o,n.join("")},define("app/modules/event/show/templates/content",function(){});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("app/modules/event/show/show_view",["app/app","base.views","google-platform","./templates/layout","./templates/header","./templates/content"],function(){var e,t;return e=require("app/app"),t=require("base.views"),e.module("Event.Show",function(e,n,i,r,o,s){return e.Layout=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/show/templates/layout",t.prototype.className="page-layout",t.prototype.regions={header:"#header-region",content:"#content-region"},t}(t.LayoutView),e.Header=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/show/templates/header",t.prototype.className="ui basic segment",t}(t.ItemView),e.Content=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.template="event/show/templates/content",t.prototype.className="ui tall stacked segment",t.prototype.bindings={"[name=start_date]":{observe:"start_date"},"[name=title]":{observe:"title"},"[name=description]":{observe:"description"}},t.prototype.ui={hangoutBtn:".hangout"},t.prototype.onRender=function(){return gapi.hangout.render(this.ui.hangoutBtn[0],{render:"createhangout",initial_apps:[{app_id:"1063424140675",app_type:"LOCAL_APP"}]})},t}(t.ItemView)})});var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;define("app/modules/event/show/show_controller",["app/app","base.controllers","./show_view"],function(e){return e.module("Event.Show",function(e,t,n,i,r,o){return e.Controller=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return extend(i,n),i.prototype.initialize=function(e){var n,i;return i=e.id,
this.region=e.region,this.layout=this.getLayoutView(),n=t.reqres.request("event:entity",i),this.layout.on("before:show",function(e){return function(){return e.getHeaderRegion(),e.getContentRegion(n)}}(this)),this.region.show(this.layout)},i.prototype.getLayoutView=function(){return new e.Layout},i.prototype.getHeaderRegion=function(){var t;return t=new e.Header,this.layout.showChildView("header",t)},i.prototype.getContentRegion=function(t){var n;return n=new e.Content({model:t}),this.layout.showChildView("content",n)},i}(t.Controllers.Base)}),e.Event.Show.Controller});var slice=[].slice;define("app/modules/event/event_api",["app/app","./list/list_controller","./new/new_controller","./show/show_controller"],function(e){var t;return t={list:function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],new e.Event.List.Controller({region:e.mainRegion})},show:function(t,n){return null==n&&(n=""),new e.Event.Show.Controller({id:t,region:e.mainRegion})},"new":function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],new e.Event.New.Controller({region:e.mainRegion})},edit:function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],new e.Event.Edit.Controller({region:e.mainRegion})}}});