var extend=function(t,e){function n(){this.constructor=t}for(var o in e)hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define(["app/app","base.controllers","./list_view"],function(t){return t.module("Event.List",function(t,e,n,o,r,i){return t.Controller=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,n),o.prototype.initialize=function(t){var n;return this.region=t.region,this.layout=this.getLayoutView(),n=e.reqres.request("event:entities"),this.layout.on("before:show",function(t){return function(){return t.getHeaderRegion(),t.getListRegion(n)}}(this)),this.region.show(this.layout)},o.prototype.getLayoutView=function(){return new t.Layout},o.prototype.getHeaderRegion=function(){var e;return e=new t.Header,this.layout.showChildView("header",e)},o.prototype.getListRegion=function(n){var o;return o=new t.Events({collection:n}),o.on("event:delete",function(t){var n,r;return r=t.model,n=t.collection,o=t.view,e.commands.execute("event:destroy",r)}),this.layout.showChildView("events",o)},o}(e.Controllers.Base)}),t.Event.List.Controller});